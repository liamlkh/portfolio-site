{"version":3,"sources":["assets/images/rusty.jpg","assets/images/roughness.jpg","assets/images/displacement.jpg","routes/history.js","store/ducks/location.js","store/ducks/darkMode.js","store/ducks/works.js","store/sagas/darkMode.js","store/sagas/index.js","store/index.js","store/ducks/index.js","pages/Home/styles.js","components/Effects.js","shaders/TransitionShader.js","components/DarkModeTransition.js","pages/Home/Dark.js","pages/Home/Light.js","components/About/styles.js","components/Heptagon.js","components/About/index.js","components/MaskedElement.js","pages/Home/index.js","pages/Works/styles.js","shaders/WorkDarkShader.js","pages/Works/Dark.js","shaders/WorkLightShader.js","pages/Works/Light.js","pages/Works/index.js","components/Cursor.js","components/NavBar/styles.js","components/NavBar/index.js","components/DarkButton/styles.js","components/DarkButton/index.js","routes/index.js","styles/global.js","App.js","index.js"],"names":["history","createBrowserHistory","basename","process","createActions","initLocation","setLocationRequest","setLocation","Types","INITIAL_STATE","Creators","Immutable","current","target","isChanging","reducer","createReducer","INIT_LOCATION","state","location","merge","SET_LOCATION_REQUEST","SET_LOCATION","changeDarkMode","darkModeTransitionStart","darkModeTransitionFinish","DarkModeTypes","isOn","isTransitioning","CHANGE_DARK_MODE","DARK_MODE_TRANSITION_START","DARK_MODE_TRANSITION_FINISH","initWorks","browseWork","browseWorkTransitionFinish","currentIndex","data","direction","INIT_WORKS","length","BROWSE_WORK","BROWSE_WORK_TRANSITION_FINISH","document","body","classList","add","remove","contains","rootSaga","all","takeLatest","sagaMiddleware","createSagaMiddleware","middlewares","thunkMiddleware","routerMiddleware","store","createStore","combineReducers","router","connectRouter","darkMode","works","compose","applyMiddleware","run","sagas","Title","styled","div","Effects","children","isGammaOn","isAAOn","composerRef","useRef","useThree","scene","gl","size","camera","useEffect","setSize","width","height","useFrame","render","ref","args","attachArray","GammaCorrectionShader","FXAAShader","material-uniforms-resolution-value","extend","EffectComposer","ShaderPass","RenderPass","TransitionShader","uniforms","tDiffuse","value","progress","resolution","noise","transparent","vertexShader","fragmentShader","TransitionShaderPass","isDark","shaderRef","material","_","delta","dispatch","type","useTexture","require","default","THREE","material-uniforms-noise-value","DarkModeTransition","props","SAOPass","BokehPass","SIZE","START_DURATION","MIN_Z_SCALE","Pattern","isKilledRef","rectsMeshRef","rectsFaceRef","useState","rects","setRects","dummy","useMemo","genRects","xPos","yPos","x","randFloat","Math","random","y","push","rand","zScale","maxZScale","isRegened","isStarted","clock","getElapsedTime","t","abs","forEach","rect","i","instanceMatrix","array","max","min","position","set","scale","updateMatrix","setMatrixAt","matrix","z","needsUpdate","color","rotation","PI","castShadow","receiveShadow","Spot","mouse","distance","intensity","MyEffect","params-saoIntensity","params-saoScale","params-saoBlurRadius","focus","aperture","maxblur","needsSwap","HomeDark","useSelector","pathname","includes","shadows","dpr","alpha","antialias","fov","near","far","onCreated","resize","polyfill","ResizeObserver","attach","shadow-mapSize-width","shadow-mapSize-height","fallback","Environment","preset","React","memo","softShadows","frustum","samples","rings","RECT_SIZE","rectsShadowRef","squaresMeshRef","squares","setSquares","Rect","j","index","attributes","square","round","geometry","side","opacity","flatShading","Resize","timeoutRef","canvas","getElementsByClassName","style","clearTimeout","setTimeout","size_","zoom","updateProjectionMatrix","HomeLight","orthographic","stencil","depth","shadow-camera-near","shadow-camera-far","shadow-camera-left","shadow-camera-right","shadow-camera-top","shadow-camera-bottom","multisampling","radius","luminanceInfluence","brightness","Wrapper","Container","Heptagon","viewBox","points","calc","window","innerHeight","innerWidth","trans","s","About","useSpring","xys","config","mass","tension","friction","spring","setSpring","as","animated","onMouseMove","clientX","clientY","onMouseLeave","transform","interpolate","strokeWidth","stroke","fill","href","MaskedElement","frontRef","backRef","updateMousePosition","ev","getBoundingClientRect","left","top","browserName","webkitMask","webkitMaskPosition","addEventListener","removeEventListener","Front","cloneElement","className","webkitMaskImage","Back","Element","isMobile","Home","setIsShown","isShown","isHiding","Dark","InfoContainer","InfoTopContainer","InfoTitle","p","InfoType","InfoContent","InfoBottom","VisitSite","a","WorkDarkShader","tex","tex2","time","distortion","distortion2","speed","rollSpeed","DEFAULT_CAMERA_POS","Show","setIsChanging","planeRef","vec","rEuler","rQuaternion","materialRef","image","getState","texture","load","lerp","quaternion","slerp","setFromEuler","Ground","roughness","Reflector","mirror","mixBlur","mixStrength","Material","metalness","roughnessMap","MAX_RATIO","setPosition","ratio","WorksDark","WorkLightShader","effectFactor","undefined","disp","setDirection","displacement","uniforms-disp-value","WorksLight","Info","info","setInfo","InfoTop","title","tags","about","link","onClick","Works","Cursor","pointerEvents","zIndex","NavBarContainer","nav","NavBar","NavButton","to","DarkButtonWrapper","DarkButton","d","Routes","defaultLocation","useLocation","exact","path","component","Router","GlobalStyle","createGlobalStyle","ThreeLoader","active","useProgress","darkModeTimeoutRef","App","fetch","response","json","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.7d7aaeb5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/rusty.c6d306ec.jpg\";","export default __webpack_public_path__ + \"static/media/roughness.3d48a9bb.jpg\";","export default __webpack_public_path__ + \"static/media/displacement.9d21d60d.jpg\";","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory({\n    basename: process.env.PUBLIC_URL\n});\n\nexport default history;\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  initLocation: ['location'],\n  setLocationRequest: ['location'],\n  setLocation: [],\n})\n\nexport const LocationTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  current: null,\n  target: null,\n  isChanging: false,\n})\n\n/* Reducers */\n\nconst initLocation = (state, { location }) => state.merge({\n  ...state,\n  current: location\n})\n\nconst setLocationRequest = (state, { location }) => state.merge({\n  ...state,\n  target: location,\n  isChanging: true,\n})\n\nconst setLocation = (state) => state.merge({\n  ...state,\n  current: state.target,\n  target: null,\n  isChanging: false,\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.INIT_LOCATION]: initLocation,\n  [Types.SET_LOCATION_REQUEST]: setLocationRequest,\n  [Types.SET_LOCATION]: setLocation,\n})\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  changeDarkMode: [],\n  darkModeTransitionStart: [],\n  darkModeTransitionFinish: [],\n})\n\nexport const DarkModeTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  isOn: false,\n  isChanging: false,\n  isTransitioning: false,\n\n})\n\n/* Reducers */\n\nconst changeDarkMode = (state) => state.merge({\n  ...state,\n  isChanging: true,\n})\n\nconst darkModeTransitionStart = (state) => state.merge({\n  ...state,\n  isTransitioning: true\n})\n\nconst darkModeTransitionFinish = (state) => state.merge({\n  isOn: !state.isOn,\n  isChanging: false,\n  isTransitioning: false\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.CHANGE_DARK_MODE]: changeDarkMode,\n  [Types.DARK_MODE_TRANSITION_START]: darkModeTransitionStart,\n  [Types.DARK_MODE_TRANSITION_FINISH]: darkModeTransitionFinish,\n})\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  initWorks: ['data'],\n  browseWork: ['direction'],\n  browseWorkTransitionFinish: []\n})\n\nexport const WorksTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  currentIndex: null,\n  data: [],\n  direction: null,\n})\n\n/* Reducers */\n\nconst initWorks = (state, { data }) => state.merge({\n  currentIndex: data.length > 0 ? 0 : null,\n  data: data,\n})\n\nconst browseWork = (state, { direction }) => state.merge({\n  ...state,\n  currentIndex: (state.data.length + state.currentIndex + direction) % state.data.length,\n  direction: direction\n})\n\nconst browseWorkTransitionFinish = (state) => state.merge({\n  ...state,\n  direction: null\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.INIT_WORKS]: initWorks,\n  [Types.BROWSE_WORK]: browseWork,\n  [Types.BROWSE_WORK_TRANSITION_FINISH]: browseWorkTransitionFinish,\n})\n","export function* changeDarkMode() {\n  document.body.classList.add(\"is-mode-changing\")\n}\n\nexport function* darkModeTransitionFinish() {\n  document.body.classList.remove(\"is-mode-changing\")\n\n  if (document.body.classList.contains(\"is-light\")) {\n    document.body.classList.remove(\"is-light\")\n    document.body.classList.add(\"is-dark\")\n  }\n  else {\n    document.body.classList.remove(\"is-dark\")\n    document.body.classList.add(\"is-light\")\n  }\n} \n","import {\n  all,\n  takeLatest,\n} from 'redux-saga/effects'\n\nimport { DarkModeTypes } from '../ducks/darkMode'\nimport { changeDarkMode, darkModeTransitionFinish } from './darkMode'\n\nexport default function* rootSaga() {\n  yield all([\n    takeLatest(DarkModeTypes.CHANGE_DARK_MODE, changeDarkMode),\n    takeLatest(DarkModeTypes.DARK_MODE_TRANSITION_FINISH, darkModeTransitionFinish),\n  ])\n}\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { routerMiddleware } from 'connected-react-router';\nimport thunkMiddleware from 'redux-thunk';\n\nimport history from '@/routes/history';\n\nimport rootReducer from './ducks';\nimport sagas from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst middlewares = [\n  sagaMiddleware,\n  thunkMiddleware,\n  routerMiddleware(history),\n];\n\nconst store = createStore(\n  rootReducer(history),\n  {},\n  compose(applyMiddleware(...middlewares)),\n);\n\nsagaMiddleware.run(sagas);\n\nexport default store;\n","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\nimport { reducer as location } from './location'\nimport { reducer as darkMode } from './darkMode'\nimport { reducer as works } from './works'\n\nexport default (history) =>\n  combineReducers({\n    router: connectRouter(history),\n    location,\n    darkMode,\n    works,\n  });\n","import styled from 'styled-components';\n\nexport const Title = styled.div`\n    position: absolute;\n    top: 7%;\n    left: 3%;\n    font-size: 24px;\n    text-align: right;\n    font-family: Breadley, serif;\n    padding: 2em;\n\n    @media (max-width: 400px) {\n        left: unset;\n        top: 13%;\n        right: 5%;\n        width: 60%;\n        padding: 0;\n    }\n\n    h1 {\n        position: relative;\n        font-weight: bold;\n        font-size: 3.2em;\n        line-height: 0.85em;\n        letter-spacing: 0.04em;\n    }\n\n    h2 {\n        position: relative;\n        font-family: Breadley, serif;\n        font-weight: normal;\n        font-size: 1em;\n        letter-spacing: 0.04em;\n\n        @media (max-width: 400px) {\n            margin-top: 0.3em;\n        }\n    }\n\n    .is-dark & {\n        color: #a1377a;\n    }\n    \n    &.is-back {\n        * {\n            transform: scale(1.15);\n        }\n        .is-dark & {\n            filter: drop-shadow(5px 5px 5px #a1377a) invert(35%);\n\n            .is-work-changing &, .is-route-changing &, .is-transitioning & {\n                opacity: 0 !important;\n            }\n        }\n    }\n\n    & * {\n        // transition: opacity 0.8s ease-in-out;\n    }\n\n    .is-route-changing & * {\n        // opacity: 0;\n    }\n`;\n\n\n\n","import React, { useRef, useEffect } from 'react'\nimport { useThree, useFrame, extend } from '@react-three/fiber'\nimport { GammaCorrectionShader } from 'three/examples/jsm/shaders/GammaCorrectionShader'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader'\n\nextend({ EffectComposer, ShaderPass, RenderPass })\n\nexport default function Effects({ children, isGammaOn, isAAOn }) {\n\n  const composerRef = useRef()\n  const { scene, gl, size, camera } = useThree()\n  \n  useEffect(() => {\n    composerRef.current.setSize(size.width, size.height)\n  }, [size])\n\n  useFrame(() => {\n    if (composerRef.current) composerRef.current.render()\n  }, 1)\n\n  return (\n    <effectComposer ref={composerRef} args={[gl]} >\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n      {children}\n      {isGammaOn && <shaderPass attachArray=\"passes\" args={[GammaCorrectionShader]} />}\n      {isAAOn && <shaderPass attachArray=\"passes\" args={[FXAAShader]} material-uniforms-resolution-value={[1 / size.width, 1 / size.height]} />}\n    </effectComposer>\n  )\n}\n","const TransitionShader = {\n    uniforms: {\n        tDiffuse: { value: null },\n        progress: { value: 0.0 },\n        resolution: { value: null },\n        noise: { value: null },\n        transparent: true,\n    },\n  \n    vertexShader: `\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    `,\n  \n    fragmentShader: `\n        #include <common>\n\n        uniform float progress;\n        uniform sampler2D tDiffuse;\n        uniform vec2 resolution;\n        varying vec2 vUv;\n\n        uniform float opacity;\n\n        float Hash(vec2 p) {\n            p  = 50.0 * fract( p * 0.3183099 + vec2(0.71, 0.113) );\n            return -1.0 + 2.0 * fract( p.x * p.y * (p.x + p.y) );\n        }\n\n        float noise(in vec2 p) {\n            vec2 i = floor(p);\n            vec2 f = fract(p);\n            \n            vec2 u = f*f*(3.0 - 2.0 * f);\n\n            return mix( mix( Hash( i + vec2(0.0, 0.0) ), \n                            Hash( i + vec2(1.0, 0.0) ), u.x),\n                        mix( Hash( i + vec2(0.0, 1.0) ), \n                            Hash( i + vec2(1.0, 1.0) ), u.x), u.y);\n        }\n\n        void main() {\n\n            // noise value\n            vec2 uv = vUv * vec2(resolution.x/resolution.y, 1.0);\n            float f = 0.0;\n            uv *= 0.7;\n            mat2 m = mat2( 2,  2, -2,  2 );\n            f  = 0.5000*noise( uv ); uv = m*uv;\n            f += 0.2500*noise( uv ); uv = m*uv;\n            f += 0.1250*noise( uv ); uv = m*uv;\n            f += 0.0625*noise( uv ); uv = m*uv;\n            f = 0.5 + 0.5 * f;\n\n            // float th = sin( max(0.0, min(progress, 1.0) ) );\n            float th = sin(progress);\n            float tex = ( (f - .5) + 2. * vUv.y ) / 3.;\n            float dist = smoothstep( th - .3, th + .05, tex);\n            float col = pow( smoothstep(th - .2, th, tex), 3. );\n\n            vec4 color = texture2D(tDiffuse, vUv * (.5 + pow(dist, 2.) * .5 ) );\n                \n            vec4 discolor = vec4(0, 0, 0, 0);\n            gl_FragColor = vec4(mix(discolor, color, col));\n\n        }\n    `\n}\n\nexport default TransitionShader\n\n","import * as THREE from 'three'\nimport React, { useRef, useEffect } from 'react'\nimport store from '@/store'\nimport { useThree, useFrame, extend } from '@react-three/fiber'\nimport { useTexture } from '@react-three/drei'\nimport TransitionShader from '@/shaders/TransitionShader'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\n\nextend({ ShaderPass })\n\nconst TransitionShaderPass = ({ isDark }) => {\n\n  const shaderRef = useRef()\n  const { size } = useThree()\n\n  useEffect(() => {\n    shaderRef.current.material.uniforms.progress.value = isDark ? 0 : 1\n  }, [])\n\n  useFrame((_, delta) => {\n    if ( \n      (isDark && shaderRef.current.material.uniforms.progress.value > 1)\n      ||\n      (!isDark && shaderRef.current.material.uniforms.progress.value < 0)\n    )\n      store.dispatch({ type: 'DARK_MODE_TRANSITION_FINISH' })\n    else\n      shaderRef.current.material.uniforms.progress.value += delta * (isDark ? 1 : -1)\n  })\n\n  const noise = useTexture(require(\"@/assets/images/rusty.jpg\").default)\n  const resolution = new THREE.Vector2(size.width, size.height)\n\n  return (\n    <shaderPass \n      ref={shaderRef}\n      attachArray=\"passes\" \n      args={[TransitionShader]} \n      material-uniforms-resolution-value={resolution}  \n      material-uniforms-noise-value={noise}  \n    />\n  )\n}\n\nexport default function DarkModeTransition(props) {\n\n  const { isOn, isTransitioning } = props\n\n  return isTransitioning ? <TransitionShaderPass isDark={isOn} /> : null\n\n}\n","import React, { useState, useEffect, useMemo, useRef, Suspense } from 'react'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree, extend } from '@react-three/fiber'\nimport { Environment } from '@react-three/drei'\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport { SAOPass } from 'three/examples/jsm/postprocessing/SAOPass'\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass'\n\nimport Effects from '@/components/Effects'\nimport DarkModeTransition from \"@/components/DarkModeTransition\"\n\nextend({ SAOPass, BokehPass })\n\nconst SIZE = 1.3\nconst SPEED = 0.08\nconst START_DELAY = 2\nconst START_DURATION = 2.5\nconst END_DURATION = 1\nconst STOP_DURATION = 2\nconst DURATION = START_DURATION + END_DURATION + STOP_DURATION\nconst X_COUNT = 40\nconst Y_COUNT = 25\nconst MIN_Z_SCALE = 0.01\nconst MAX_Z_SCALE = 3\nconst MIN_WIDTH = 2\nconst MAX_WIDTH = 4\nconst MIN_HEIGHT = 4\nconst MAX_HEIGHT = 8\n\nconst Pattern = ({ isKilledRef }) => {\n  \n  const rectsMeshRef = useRef()\n  const rectsFaceRef = useRef()\n\n  const [rects, setRects] = useState([])\n  const dummy = useMemo(() => new THREE.Object3D(), [])\n\n  const genRects = () => {\n    const rects = []\n\n    let xPos = 0, yPos = 0\n    for (let x = 0; x < X_COUNT; x ++) {\n      const width = THREE.MathUtils.randFloat(MIN_WIDTH, MAX_WIDTH)\n      yPos = Math.random() * SIZE * 6\n      for (let y = 0; y < Y_COUNT; y ++) {\n        const height = THREE.MathUtils.randFloat(MIN_HEIGHT, MAX_HEIGHT)\n        rects.push({ \n          x: xPos,\n          y: yPos,\n          width: width,\n          height: height,\n          rand: Math.random() * 0.8,\n          zScale: MIN_Z_SCALE,\n          maxZScale: MIN_Z_SCALE + Math.random() * (MAX_Z_SCALE - MIN_Z_SCALE)\n        })\n        yPos += height * SIZE \n      }\n      xPos += width * SIZE\n    }\n\n    setRects(rects)\n  }\n\n  useEffect(() => {\n    genRects()\n  }, [])\n\n  // update\n  let progress = 0\n  let direction = 1\n  let isRegened = true\n  let isStarted = false\n  useFrame((state) => {\n\n    if (state.clock.getElapsedTime() > START_DELAY) {\n      isStarted = true\n    }\n    \n    if (isStarted) {\n      const t = (state.clock.getElapsedTime() - START_DELAY) % DURATION\n      if (isKilledRef.current) { // change page\n        direction = -1\n      }\n      else {\n        if (!isRegened && Math.abs(t - DURATION) < 0.08) {\n          genRects()\n          isRegened = true\n        }\n        else if (t < START_DURATION) {\n          direction = 1\n          progress = t / START_DURATION\n          if (isRegened) isRegened = false\n        }\n        else if (t - START_DURATION < END_DURATION) {\n          direction = -1\n          progress = 1 - (t - START_DURATION) / END_DURATION\n        }\n        else {\n          progress = 0\n        }\n      }\n    }\n\n    rects.forEach((rect, i) => {\n      let { x, y, width, height, maxZScale, rand } = rect\n      let zScale = isStarted ? rectsMeshRef.current.instanceMatrix.array[i * 16 + 10] : MIN_Z_SCALE\n\n      const isTriggered = isKilledRef.current || (direction == 1 && progress > rand) || (direction == -1 && progress < rand)\n      if (isTriggered) {\n        zScale += direction * SPEED\n        zScale = Math.max(Math.min(zScale, maxZScale), MIN_Z_SCALE)\n      }\n\n      dummy.position.set(\n        x + width * SIZE * 0.5,\n        y + height * SIZE * 0.5,\n        0\n      )\n      dummy.scale.set(width, height, zScale)\n      dummy.updateMatrix()\n      rectsMeshRef.current.setMatrixAt(i, dummy.matrix)\n      \n\n      dummy.position.z = zScale * SIZE * 0.5 + 0.03\n      dummy.updateMatrix()\n      rectsFaceRef.current.setMatrixAt(i, dummy.matrix)\n    })\n    rectsMeshRef.current.instanceMatrix.needsUpdate = true\n    rectsFaceRef.current.instanceMatrix.needsUpdate = true\n\n  })\n\n  const material = new THREE.MeshLambertMaterial({ color: \"#111111\" })\n\n  return (\n    <group rotation={[0, 0, - Math.PI * 1 / 4]} position={[3, 24, 0]} scale={0.2} >\n      <group rotation={[Math.PI, 0, 0]} >\n        <instancedMesh castShadow ref={rectsMeshRef} args={[null, null, rects.length]} material={material} >\n          <boxBufferGeometry args={[SIZE, SIZE, SIZE]} />\n        </instancedMesh>\n        <instancedMesh receiveShadow ref={rectsFaceRef} args={[null, null, rects.length]} material={material} >\n          <planeBufferGeometry args={[SIZE, SIZE]} />\n        </instancedMesh>\n      </group>\n    </group>\n  )\n}\n\nconst Spot = () => {\n  const ref = useRef()\n\n  useFrame((state) => {\n    ref.current.position.x = state.mouse.x * 10\n    // ref.current.position.y = 20 + state.mouse.x * 5\n  })\n\n  return (\n    <pointLight ref={ref} position={[-10, 0, 10]} distance={11} color=\"#de8cc0\" intensity={8} />\n  )\n}\n\nconst MyEffect = ({ darkMode }) => {\n\n  const { scene, camera, size } = useThree()\n\n  return (\n    <Effects>\n      <sAOPass attachArray=\"passes\" args={[scene, camera, false, true]} params-saoIntensity={0.07} params-saoScale={2.5} params-saoBlurRadius={2} /> \n      <bokehPass attachArray=\"passes\" args={[scene, camera,  { focus: 14, aperture: 0.002, maxblur: 0.5, width: size.width, height: size.height }]} needsSwap />\n      <DarkModeTransition {...darkMode} />\n    </Effects>\n  )\n}\n\nconst HomeDark = () => {\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location.target)\n  const isKilledRef = useRef(false)\n\n  useEffect(() => {\n    if (location && location?.pathname != '/' && !location?.pathname.includes('about')) {\n      isKilledRef.current = true\n    }\n  }, [location])\n  \n  return (\n    <Canvas \n      shadows \n      dpr={[1, 2]} \n      gl={{ alpha: true, antialias: false }}\n      camera={{ position: [-2.26, -14, 8.9], fov: 30, near: 1, far: 35 }} \n      onCreated={({ camera }) => {\n        camera.rotation.set(1, -0.135, 0.2)\n      }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <color attach=\"background\" args={['black']} />\n      {/* <fog attach=\"fog\" args={['#202020', 10, 30]} /> */}\n      <ambientLight intensity={2} />\n      <Spot/>\n      <directionalLight\n        castShadow\n        intensity={0.1}\n        position={[10, 10, 8]}\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n      /> \n      <Suspense fallback={null}>\n        <Pattern isKilledRef={isKilledRef} />\n        <Environment preset=\"warehouse\" />\n        <MyEffect darkMode={darkMode} />\n      </Suspense>\n    </Canvas>\n  )\n}\n\nexport default React.memo(HomeDark)\n","import React, { Suspense, useState, useEffect, useMemo, useRef } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { softShadows  } from \"@react-three/drei\"\nimport { EffectComposer, SSAO, BrightnessContrast } from \"@react-three/postprocessing\"\nimport { ResizeObserver } from '@juggle/resize-observer'\n\nsoftShadows({\n  frustum: 3.75,\n  size: 0.005,\n  near: 9.5,\n  samples: 30,\n  rings: 11, \n})\n\nconst SIZE = 1.3\nconst HEIGHT = 2.5\nconst SPEED = 0.05\nconst START_DELAY = 2\nconst START_DURATION = 2.5\nconst END_DURATION = 1\nconst STOP_DURATION = 2\nconst DURATION = START_DURATION + END_DURATION + STOP_DURATION\nconst X_COUNT = 20\nconst Y_COUNT = 15\nconst MIN_Z_SCALE = 0.01\nconst RECT_SIZE = [\n  [4, 6],\n  [3, 8],\n  [2, 6]\n]\n\nconst Pattern = ({ isKilledRef }) => {\n  \n  const rectsMeshRef = useRef()\n  const rectsShadowRef = useRef()\n  const squaresMeshRef = useRef()\n\n  const [rects, setRects] = useState([])\n  const [squares, setSquares] = useState([])\n  const dummy = useMemo(() => new THREE.Object3D(), [])\n\n  const Rect = new THREE.PlaneBufferGeometry(SIZE, SIZE, 1, 2)\n  for (let i = 0; i < 2; i ++ ) {\n    for (let j = 0; j < 2; j ++ ) {\n      const index = j == 0 ? 8 : 11 \n      const position = Rect.attributes.position.array\n      position[index] = HEIGHT\n    }\n  }\n\n  useEffect(() => {\n    if (squaresMeshRef.current) {\n      squares.forEach((square, i) => {\n        let { x, y, width, height } = square\n        dummy.position.set(\n          x + width * SIZE * 0.5,\n          y + height * SIZE * 0.5,\n          0\n        )\n        dummy.scale.set(width, height, 1)\n        dummy.updateMatrix()\n        squaresMeshRef.current.setMatrixAt(i, dummy.matrix)\n      })\n      squaresMeshRef.current.instanceMatrix.needsUpdate = true\n    }\n  }, [squares])\n\n  const genRects = () => {\n    const rects = []\n    const squares = []\n\n    const rand = Math.round(Math.random()) * 2\n\n    let xPos = 0\n    for (let x = 0; x < X_COUNT; x ++) {\n      const width = RECT_SIZE[(x + rand) % 3][0]\n      const height = RECT_SIZE[(x + rand) % 3][1]\n      let yPos = x % 3 == 0 ? 2 * SIZE : 0\n      for (let y = 0; y < Y_COUNT; y ++) {\n        if (y % 2 != 0) {\n          squares.push({\n            x: xPos,\n            y: yPos,\n            width: width,\n            height: 2,\n          })\n          yPos += 2 * SIZE\n        }\n        else {\n          rects.push({ \n            x: xPos,\n            y: yPos,\n            width: width,\n            height: height,\n            rand: Math.random() * 0.8,\n            zScale: MIN_Z_SCALE,\n          })\n          yPos += height * SIZE\n        }\n      }\n      xPos += width * SIZE\n    }\n\n    setRects(rects)\n    setSquares(squares)\n  }\n\n  useEffect(() => {\n    genRects()\n  }, [])\n\n  // update\n  let progress = 0\n  let direction = 1\n  let isRegened = true\n  let isStarted = false\n  useFrame((state) => {\n\n    if (state.clock.getElapsedTime() > START_DELAY) {\n      isStarted = true\n    }\n    \n    if (isStarted) {\n      const t = (state.clock.getElapsedTime() - START_DELAY) % DURATION\n      if (isKilledRef.current) { // change page\n        direction = -1\n      }\n      else {\n        if (!isRegened && Math.abs(t - DURATION) < 0.08) {\n          genRects()\n          isRegened = true\n        }\n        else if (t < START_DURATION) {\n          direction = 1\n          progress = t / START_DURATION\n          if (isRegened) isRegened = false\n        }\n        else if (t - START_DURATION < END_DURATION) {\n          direction = -1\n          progress = 1 - (t - START_DURATION) / END_DURATION\n        }\n        else {\n          progress = 0\n        }\n      }\n    }\n\n    rects.forEach((rect, i) => {\n      let { x, y, width, height, rand } = rect\n      let zScale = isStarted ? rectsMeshRef.current.instanceMatrix.array[i * 16 + 10] : MIN_Z_SCALE\n\n      const isTriggered = isKilledRef.current || (direction == 1 && progress > rand) || (direction == -1 && progress < rand)\n      if (isTriggered) {\n        zScale += direction * SPEED\n        zScale = Math.max(Math.min(zScale, 1), MIN_Z_SCALE)\n      }\n\n      dummy.position.set(\n        x + width * SIZE * 0.5,\n        y + height * SIZE * 0.5,\n        0\n      )\n      dummy.scale.set(width, height, zScale)\n      dummy.updateMatrix()\n      rectsMeshRef.current.setMatrixAt(i, dummy.matrix)\n\n      if (zScale < 0.03) \n        dummy.scale.set(0, 0, 0)\n      else\n        dummy.scale.set(width, height, zScale * 0.9)\n\n      dummy.updateMatrix()\n      rectsShadowRef.current.setMatrixAt(i, dummy.matrix)\n    })\n    rectsMeshRef.current.instanceMatrix.needsUpdate = true\n    rectsShadowRef.current.instanceMatrix.needsUpdate = true\n\n  })\n\n  return (\n    <group rotation={[0, 0, -Math.PI * 3 / 4]}>\n      <group position={[-38, -39, 0]}>\n\n        <instancedMesh castShadow ref={rectsShadowRef} args={[null, null, rects.length]} geometry={Rect}>\n          <meshStandardMaterial side={THREE.DoubleSide} transparent opacity={0} flatShading  />\n        </instancedMesh>\n\n        <instancedMesh receiveShadow ref={rectsMeshRef} args={[null, null, rects.length]} geometry={Rect}>\n          <meshStandardMaterial side={THREE.DoubleSide} flatShading />\n        </instancedMesh>\n        \n        <instancedMesh receiveShadow ref={squaresMeshRef} args={[null, null, squares.length]}>\n          <planeBufferGeometry args={[SIZE, SIZE, 1, 1]}/>\n          <meshStandardMaterial side={THREE.DoubleSide} flatShading />\n        </instancedMesh>\n\n      </group>\n    </group>\n  )\n}\n\nconst RATIO = 1.75\nconst MIN_ZOOM = 15\nconst Resize = () => {\n  const { size, camera } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    const canvas = document.getElementsByClassName('canvas-wrapper')[0]\n    if (canvas) canvas.style.opacity = 0\n\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const size_ = size.width / size.height >= RATIO ? size.width : size.height * RATIO\n        const zoom = size_ < 800 ? MIN_ZOOM : MIN_ZOOM + (size_ - 800) * 0.014\n        camera.zoom = zoom\n        camera.updateProjectionMatrix() \n        if (canvas) canvas.style.opacity = 1\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function HomeLight() {\n\n  const location = useSelector(state => state.location.target)\n  const isKilledRef = useRef(false)\n\n  useEffect(() => {\n    if (location && location?.pathname != '/' && !location?.pathname.includes('about')) {\n      isKilledRef.current = true\n      setTimeout(\n        () => store.dispatch({ type: 'SET_LOCATION' })\n      , 1500)\n    }\n  }, [location])\n\n  return (\n    <>\n      <Canvas \n        orthographic \n        shadows \n        camera={{ position: [0, 0, 60], zoom: 24 }}\n        gl={{ alpha: false, stencil: false, depth: false, antialias: false }}\n        resize={{ polyfill: ResizeObserver }}\n      >\n        <color attach=\"background\" args={['white']} />\n        <Resize/>\n        <Suspense fallback={null}>\n          <ambientLight intensity={0.2} />\n          <directionalLight\n            castShadow\n            position={[0, 0, 40]}\n            intensity={1}\n            shadow-mapSize-width={1024}\n            shadow-mapSize-height={1024}\n            shadow-camera-near={37}\n            shadow-camera-far={80}\n            shadow-camera-left={-35}\n            shadow-camera-right={35}\n            shadow-camera-top={20}\n            shadow-camera-bottom={-20}\n          />\n          <Pattern isKilledRef={isKilledRef} />\n          <EffectComposer multisampling={0}>\n            <SSAO samples={25} radius={5} intensity={50} luminanceInfluence={0.6} />\n            <BrightnessContrast brightness={0.2} />\n          </EffectComposer>\n        </Suspense>\n      </Canvas>\n    </>\n  )\n}","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.6s ease-in-out, transform 0.3s ease-in;\n    opacity: 1;\n\n    .is-route-changing &, .is-mode-changing & {\n        // transform: translate(-50%, 100%);\n        opacity: 0;\n    }\n`;\n    \nexport const Container = styled.div`\n    width: 400px;\n    height: 400px;\n    font-family: CocoSharp;\n    font-weight: 100;\n\n    @media (max-width: 400px) {\n        width: 320px;\n        height: 320px;\n    }\n\n    .is-dark & {\n        color: #a1377a;\n        filter: drop-shadow(5px 5px 5px red) invert(35%);\n    }\n\n    div:nth-child(1) {\n        float: left;\n        height: 100%;\n        width: 50%;\n        shape-outside: polygon(\n            0 0,\n            100% 1%,\n            20% 22%,\n            0% 65%,\n            54% 99%,\n            0 100%\n        );\n        shape-margin: 1%;\n    }\n\n    &::before {\n        content: '';\n        float: right;\n        height: 100%;\n        width: 50%;\n        shape-outside: polygon(\n            100% 0,\n            0% 1%,\n            80% 22%,\n            100% 65%,\n            46% 99%,\n            100% 100%\n        );\n        shape-margin: 1%;\n    }\n\n    svg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        pointer-events: none;\n    }\n\n    & > p {\n        position: relative;\n        padding-top: 23%;\n        user-select: text;\n        z-index: 10;\n        text-align: center;\n        user-select: none;\n\n        @media (max-width: 400px) {\n            font-size: 0.8rem;\n        }\n\n        p {\n            font-size: 0.9em;\n            margin: 10px 0;\n        }\n\n        a {\n            text-decoration: underline;\n        }\n    }\n`\n\n\n\n","\nexport default function Heptagon(props) {\n\n  return (\n    <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 643.54 627.41\">\n      <polygon \n        {...props}\n        points=\"321.77 2.77 65.9 126 2.71 402.87 179.77 624.91 463.77 624.91 640.84 402.87 577.64 126 321.77 2.77\"\n      />\n    </svg>\n  )\n}","import React from 'react'\nimport { useSpring, animated } from 'react-spring'\nimport { useSelector } from 'react-redux'\n\nimport {\n  Wrapper,\n  Container,\n} from './styles'\n\nimport Heptagon from '@/components/Heptagon'\n\nconst calc = (x, y) => [-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 20, 1.03]\nconst trans = (x, y, s) => `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`\n\nexport default function About() {\n\n  const isDark = useSelector(state => state.darkMode.isOn)\n  const [spring, setSpring] = useSpring(() => ({ xys: [0, 0, 1], config: { mass: 5, tension: 350, friction: 40 } }))\n\n  return (\n    <Wrapper>\n      <Container\n        as={animated.div}\n        onMouseMove={({ clientX: x, clientY: y }) => setSpring({ xys: calc(x, y) })}\n        onMouseLeave={() => setSpring({ xys: [0, 0, 1] })}\n        style={{ transform: spring.xys.interpolate(trans) }}\n      >\n        <div/>\n        <Heptagon \n          strokeWidth={isDark ? \"3px\" : \"1px\"}\n          stroke={isDark ? \"#a1377a\" : \"black\"}\n          fill={isDark ? \"none\" : \"rgba(255, 255, 255, 0.5)\"} \n        />\n        <p>\n          My tech stack includes:\n          <p>\n            JavaScript, TypeScript\n            <br/>\n            React, Next.js, React Native, Redux\n            <br/>\n            Electron\n            <br/>\n            Node.js\n            <br/>\n            Python\n            <br/>\n            Dart, Flutter\n            <br/>\n            Amazon Web Services (Amplify, Cognito, Lambda)\n            <br/>\n            Canvas, WebGL, Three.js, Pixi.js\n            <br/>\n            CSS, SASS, Bootstrap, Styled Components\n          </p>\n          Please contact me at <a href=\"mailto:liam.lk.hui@gmail.com\">liam.lk.hui@gmail.com</a>\n        </p>      \n      </Container>\n    </Wrapper>\n  )\n}\n","import React, { useRef, useEffect, useMemo } from 'react'\nimport { isMobile, browserName } from 'react-device-detect'\n\nconst MaskedElement = ({ children }) => {\n\n  const frontRef = useRef()\n  const backRef = useRef()\n\n  const updateMousePosition = ev => {\n    if (frontRef.current && backRef.current) { \n      const { left, top, width, height } = frontRef.current.getBoundingClientRect()\n      const x = Math.min(ev.clientX - left - 52.7, width * 1.5)\n      const y = Math.min(ev.clientY - top - 52.7, height * 1.5)\n\n      if (browserName == 'Chrome') {\n        frontRef.current.style.webkitMask = `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon transform=\"translate(${x}, ${y})\" fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff)`\n      }\n      else {\n        frontRef.current.style.webkitMaskPosition =  `${x}px ${y}px, 0 0`\n      }\n      backRef.current.style.opacity = 1\n      backRef.current.style.webkitMaskPosition =  `${x}px ${y}px`\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousemove\", updateMousePosition)\n    return () => window.removeEventListener(\"mousemove\", updateMousePosition)\n  }, [])\n\n  const Front = useMemo(() => {\n    return React.cloneElement(\n      children[0], \n      { \n        ref: frontRef, \n        className: `${children[0].props.className?? ''} inverted-mask`, \n        style: { \n          ...children[0].props.style, \n          ... browserName != 'Chrome' && { webkitMaskImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff)`, webkitMaskPosition:  `-60px -60px, 0 0` } \n        }\n      }\n    ) \n  }, [])\n\n  const Back = useMemo(() => {\n    return React.cloneElement(children[1], { ref: backRef, className: `${children[1].props.className?? ''} mask`, style: { ...children[1].props.style, opacity: 0 } })\n  }, [])\n\n  return (  \n    <>\n      {Back}\n      {Front}\n    </>\n  )\n}\n\nconst Element = (props) => {\n  if (isMobile)\n    return <>{props.children[0]}</>\n  else \n    return <MaskedElement {...props} />\n}\n\nexport default React.memo(Element)","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport {\n  Title,\n} from './styles'\n\nimport Dark from './Dark'\nimport Light from './Light'\nimport About from '@/components/About'\nimport MaskedElement from '@/components/MaskedElement'\n\nexport default function Home() {\n\n  useEffect(() => {\n    setTimeout(() => setIsShown(true), 300)\n  }, [])\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location)\n\n  const [isShown, setIsShown] = useState(!darkMode.isOn)\n  const isHiding = !isShown || (location.isChanging && (location.target?.pathname && location.target.pathname != '/' && location.target.pathname != '/about'))\n\n  return (\n    <>\n\n      {(!darkMode.isOn || darkMode.isChanging) &&\n        <div \n          className={`canvas-wrapper home`}\n          style={{ \n            opacity: (darkMode.isOn && !darkMode.isTransitioning) ? 0 : 1,\n          }}\n        >\n          <Light/>\n        </div>\n      }\n\n      {(darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper home${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: (!darkMode.isOn && !darkMode.isTransitioning) ? 0 : 1\n          }}\n        >\n          <Dark/>\n        </div>\n      }\n\n      {location.current?.pathname == '/' &&\n        <MaskedElement>\n          <Title>\n            <h1 className='reveal-text'>Hi, I’m Liam</h1>\n            <h2 className='reveal-text'>software developer</h2>\n          </Title>\n          <Title className=\"is-back\">\n            <h1 className='reveal-text'>Hi, I’m Liam</h1>\n            <h2 className='reveal-text'>software developer</h2>\n          </Title>\n        </MaskedElement>\n      }\n\n      {location.current?.pathname == '/about' && <About/>}\n\n    </>\n  )\n}\n","import styled from 'styled-components';\n\nexport const CanvasContainer = styled.div`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n`;\n\nexport const InfoContainer = styled.div`\n    position: absolute;\n    top: 10%;\n    left: 3%;\n    padding-bottom: 0.5em;\n    font-size: 20px;\n    max-height: 90%;\n    overflow-y: auto;\n    width: 450px;\n    max-width: 95%;\n    mask-image: linear-gradient(to left, black 99%, transparent 100%);\n    --offset: 30px;\n\n    p {\n        display: inline-block;\n    }\n\n    @media (max-width: 400px) {\n        --offset: 20px;\n    }\n`;\n\nexport const InfoTopContainer = styled.div`\n    color: black;\n    overflow: visible;\n    padding: var(--offset);\n\n    .is-dark & {\n        color: var(--infoColor);\n    }\n\n    &.is-back {\n        position: absolute;\n        top: 0;\n        * {\n            transform: scale(1.15);\n        }\n        .is-dark & {\n            filter: drop-shadow(5px 5px 5px var(--infoColor)) invert(35%);\n\n            .is-work-changing &, .is-route-changing &, .is-mode-changing & {\n                opacity: 0 !important;\n            }\n        }\n    }\n`\n\nexport const InfoTitle = styled.p`\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 3em;\n    letter-spacing: 0.04em;\n    line-height: 1.1;\n`\n\nexport const InfoType = styled.p`\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 1em;\n    letter-spacing: 0.04em;\n    transition-delay: 0.2s;\n`\n\nexport const InfoContent = styled.p`\n    font-family: Breadley, serif;\n    font-size: 1em;\n    letter-spacing: 0.04em;\n    margin-top: 1em;\n    transition-delay: 0.35s;\n    white-space: pre-line;\n\n    .is-dark & {\n        filter: saturate(60%);\n    }\n`\n\nexport const InfoBottom = styled.div`\n    display: flex;\n    font-family: CocoSharp, sans-serif;\n    font-weight: 100;\n    font-style: italic;\n    font-size: 0.7em;\n    width: 80%;\n    margin-left: calc(var(--offset) - 1.5em);\n    transition: all 0.5s ease-in-out;\n\n    div:last-child {\n        margin-left: 3em;\n    }\n`   \n\nexport const VisitSite = styled.a`\n    position: absolute;\n    top: 7%;\n    left: var(--offset);\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 0.8em;\n    display: inline-block;\n    z-index: 999;\n\n    @media (max-width: 400px) {\n        top: 4%;\n    }\n\n    .is-dark & {\n        color: var(--infoColor);\n        filter: saturate(60%);\n    }\n\n    ::after {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 0%;\n        height: 1px;\n        background-color: black;\n        transition: all 0.5s ease-in-out;\n\n        .is-dark & {\n          background-color: var(--infoColor);\n        }\n      }\n  \n      &:hover {\n        ::after {\n            width: 100%;\n        }\n      }\n`   \n\n\n\n\n\n","// https://cdn.rawgit.com/felixturner/bad-tv-shader/master/BadTVShader.js\n\nconst WorkDarkShader = {\n\tuniforms: {\n\t\ttex: { value: null },\n\t\ttex2: { value: null },\n\t\ttime: { value: 0.0 },\n\t\tdistortion: { value: 1.5 },\n\t\tdistortion2: { value: 2 },\n\t\tspeed: { value: 0.9 },\n\t\trollSpeed: { value: 0 },\n\t\tprogress : { value: 0 }\n\t},\n\n\tvertexShader: `\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t}\n\t`,\n\n\tfragmentShader: `\n\t\tuniform sampler2D tex;\n\t\tuniform sampler2D tex2;\n\t\tuniform float time;\n\t\tuniform float distortion;\n\t\tuniform float distortion2;\n\t\tuniform float speed;\n\t\tuniform float rollSpeed;\n\t\tuniform float progress;\n\t\tvarying vec2 vUv;\n\t\t\n\t\t// Start Ashima 2D Simplex Noise\n\n\t\tvec3 mod289(vec3 x) {\n\t\t  return x - floor(x * (1.0 / 289.0)) * 289.0;\n\t\t}\n\n\t\tvec2 mod289(vec2 x) {\n\t\t  return x - floor(x * (1.0 / 289.0)) * 289.0;\n\t\t}\n\n\t\tvec3 permute(vec3 x) {\n\t\t  return mod289(((x*34.0)+1.0)*x);\n\t\t}\n\n\t\tfloat snoise(vec2 v)\n\t\t  {\n\t\t  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n\t\t                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n\t\t                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n\t\t                      0.024390243902439); // 1.0 / 41.0\n\t\t  vec2 i  = floor(v + dot(v, C.yy) );\n\t\t  vec2 x0 = v -   i + dot(i, C.xx);\n\n\t\t  vec2 i1;\n\t\t  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\t\t  vec4 x12 = x0.xyxy + C.xxzz;\n\t\t x12.xy -= i1;\n\n\t\t  i = mod289(i); // Avoid truncation effects in permutation\n\t\t  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n\t\t  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n\t\t  m = m*m ;\n\t\t  m = m*m ;\n\n\t\t  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n\t\t  vec3 h = abs(x) - 0.5;\n\t\t  vec3 ox = floor(x + 0.5);\n\t\t  vec3 a0 = x - ox;\n\n\t\t  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n\t\t  vec3 g;\n\t\t  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n\t\t  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n\t\t  return 130.0 * dot(m, g);\n\t\t}\n\n\t\t// End Ashima 2D Simplex Noise\n\n\t\tvoid main() {\n\n\t\t\tvec2 p = vUv;\n\t\t\tfloat ty = time*speed;\n\t\t\tfloat yt = p.y - ty;\n\n\t\t\t//smooth distortion\n\t\t\tfloat offset = snoise(vec2(yt*3.0,0.0))*0.2;\n\n\t\t\t// boost distortion\n\t\t\toffset = offset*distortion * offset*distortion * offset;\n\n\t\t\t//add fine grain distortion\n\t\t\toffset += snoise(vec2(yt*50.0,0.0))*distortion2*0.001;\n\n\t\t\t//combine distortion on X with roll on Y\n\t\t\tvec4 color1 = texture2D(tex, vec2(fract(p.x + offset),fract(p.y-time*rollSpeed) ));\n\t\t\tvec4 color2 = texture2D(tex2, vec2(fract(p.x + offset),fract(p.y-time*rollSpeed) ));\n\n\t\t\tfloat myProgress = progress;\n\t\t\tif (myProgress > 0.3)\n\t\t\t\tmyProgress = (myProgress - 0.3) / 0.7;\n\t\t\telse myProgress = 0.0;\n\t\t\tvec4 color = mix(color1, color2, myProgress );\n\n\t\t\tif (p.x < 0.05) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, p.x / 0.05);\n\t\t\tif (p.x > 0.95) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, (1.0 - p.x) / 0.05);\n\t\t\tif (p.y < 0.05) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, p.y / 0.05);\n\t\t\tif (p.y > 0.95) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, (1.0 - p.y) / 0.05);\n\n\t\t\tgl_FragColor = color;\n\n\t\t}\n\n\t`\n\n};\n\nexport default WorkDarkShader","import React, { useState, useEffect, useRef, useMemo, Suspense } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { Reflector, useTexture } from '@react-three/drei'\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport WorkDarkShader from '@/shaders/WorkDarkShader' \n\nimport Effects from \"@/components/Effects\"\nimport DarkModeTransition from \"@/components/DarkModeTransition\"\n\nconst DISTORTION_MIN = 1\nconst DISTORTION_MAX = 8\nconst DEFAULT_CAMERA_POS = [10, 2, 30]\n\nconst Show = ({ currentIndex }) => {\n\n  const [isChanging, setIsChanging] = useState(null)\n\n  const planeRef = useRef()\n  const { camera, mouse } = useThree()\n  const vec = new THREE.Vector3()\n  const [rEuler, rQuaternion] = useMemo(() => [new THREE.Euler(), new THREE.Quaternion()], [])\n\n  const materialRef = useRef()\n\n  useEffect(() => {\n    const image = store.getState().works.data[currentIndex].image\n    const texture = new THREE.TextureLoader().load(process.env.PUBLIC_URL + `/works/${image}`)\n    if (isChanging == null) {\n      materialRef.current.uniforms.tex.value = texture\n      setIsChanging(false)\n    }\n    else {\n      materialRef.current.uniforms.tex2.value = texture\n      setIsChanging(true)\n    }\n  }, [currentIndex])\n\n  useFrame((state, delta) => {\n    camera.position.lerp(vec.set(\n      DEFAULT_CAMERA_POS[0] + mouse.x * 0.8, \n      DEFAULT_CAMERA_POS[1] + mouse.y * 0.4, \n      camera.position.z\n    ), 0.05)\n\n    rEuler.set(0, (mouse.x * Math.PI) / 6, 0)\n    planeRef.current.quaternion.slerp(rQuaternion.setFromEuler(rEuler), 0.1)\n\n    materialRef.current.uniforms.time.value += delta * 2\n\n    if (isChanging) {\n      if (materialRef.current.uniforms.progress.value >= 1) {\n        materialRef.current.uniforms.progress.value = 0\n        materialRef.current.uniforms.tex.value = materialRef.current.uniforms.tex2.value\n        setIsChanging(false)\n      }\n      else {\n        materialRef.current.uniforms.progress.value += delta * 0.4\n        materialRef.current.uniforms.distortion.value = Math.min(DISTORTION_MAX, materialRef.current.uniforms.distortion.value + delta * 7)\n      }\n    }\n    else if (materialRef.current.uniforms.distortion.value > DISTORTION_MIN) {\n      materialRef.current.uniforms.distortion.value = Math.max(DISTORTION_MIN, materialRef.current.uniforms.distortion.value - delta * 20)\n    }\n  })\n\n  return (\n    <group ref={planeRef} position={[0, 3, 0]}>\n      <mesh>\n        <planeGeometry attach=\"geometry\" args={[10, 6]} />\n        <shaderMaterial \n          ref={materialRef} \n          args={[WorkDarkShader]}  \n          attach=\"material\" \n          transparent\n        />\n      </mesh>\n    </group>\n  )\n}\n\n\nconst Ground = () => {\n  const roughness = useTexture(require('@/assets/images/roughness.jpg').default)\n  return (\n    <Reflector \n      resolution={512} \n      rotation={[-Math.PI / 2, 0, 0]}\n      args={[100, 100]} \n      mirror={0} \n      mixBlur={4} \n      mixStrength={1.5} \n      position={[0, -0.8, 0]}\n      rotation={[-Math.PI / 2, 0, Math.PI / 2]} \n      blur={[400, 100]}\n    >\n      {(Material, props) => <Material color=\"#a0a0a0\" metalness={0.4} roughnessMap={roughness} {...props} />}\n    </Reflector>\n  )\n}\n\nconst MAX_RATIO = 1.78\nconst Resize = ({ setPosition }) => {\n  const { size } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const ratio = size.width / size.height\n        const x = -4 + 12 * ratio / MAX_RATIO\n        const y = Math.min(-3, -11 + 8 * ratio / MAX_RATIO)\n        const z = Math.min(5, -5 + 10 * ratio / MAX_RATIO)\n        setPosition([x, y, z])\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function WorksDark() {\n\n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const darkMode = useSelector(state => state.darkMode)\n  const [position, setPosition] = useState([8, -3, 5])\n\n  return (\n    <Canvas\n      shadows\n      gl={{ antialias: true }}\n      camera={{ position: DEFAULT_CAMERA_POS, fov: 35 }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <Resize setPosition={setPosition} />\n      <color attach=\"background\" args={['black']} />\n      <Suspense fallback={null}>\n        <group rotation={[0, Math.PI * -0.05, 0]} position={position}>\n          <Ground/>\n          <Show currentIndex={currentIndex}/>\n        </group>\n         <ambientLight intensity={0.5} />\n        <directionalLight position={[-20, 0, -10]} intensity={0.7} />\n        <Effects isAAOn>\n          <DarkModeTransition {...darkMode} />\n        </Effects>\n      </Suspense>\n    </Canvas>\n  )\n}\n","const WorkLightShader = {\n    uniforms: {\n      effectFactor: { value: 1.2 },\n      progress: { value: 0.0 },\n      tex: { value: undefined },\n      tex2: { value: undefined },\n      disp: { value: undefined },\n    },\n  \n    vertexShader: `\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }\n    `,\n  \n    fragmentShader: `\n      varying vec2 vUv;\n      uniform sampler2D tex;\n      uniform sampler2D tex2;\n      uniform sampler2D disp;\n      uniform float _rot;\n      uniform float progress;\n      uniform float effectFactor;\n\n      void main() {\n        vec2 uv = vUv;\n\n        vec4 disp = texture2D(disp, uv);\n        vec2 distortedPosition = vec2(uv.x, uv.y + progress * (disp.r * effectFactor));\n        vec2 distortedPosition2 = vec2(uv.x, uv.y - (1.0 - progress) * (disp.r * effectFactor));\n        vec4 _texture = texture2D(tex, distortedPosition);\n        vec4 _texture2 = texture2D(tex2, distortedPosition2);\n        vec4 finalTexture = mix(_texture, _texture2, progress);\n        gl_FragColor = finalTexture;\n      }\n\n    `\n}\n\nexport default WorkLightShader","import * as THREE from \"three\"\nimport { useState, useEffect, useRef, useMemo, Suspense } from \"react\"\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport { Canvas, useFrame, useThree } from \"@react-three/fiber\"\nimport { softShadows, useTexture } from \"@react-three/drei\"\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport WorkLightShader from '@/shaders/WorkLightShader' \n\nimport Effects from \"@/components/Effects\"\n\nsoftShadows({\n  frustum: 3.75,\n  size: 0.002,\n  near: 9.5,\n  samples: 20,\n  rings: 11, \n})\n\nconst DEFAULT_CAMERA_POS = [10, 2, 30]\n\nconst Show = ({ currentIndex }) => {\n\n  const [direction, setDirection] = useState(null)\n\n  const planeRef = useRef()\n  const materialRef = useRef()\n\n  const { camera, mouse } = useThree()\n  const vec = new THREE.Vector3()\n  const [rEuler, rQuaternion] = useMemo(() => [new THREE.Euler(), new THREE.Quaternion()], [])\n\n  useFrame(() => {\n    camera.position.lerp(vec.set(\n      DEFAULT_CAMERA_POS[0] + mouse.x * 0.8, \n      DEFAULT_CAMERA_POS[1] + mouse.y * 0.4, \n      camera.position.z\n    ), 0.05)\n\n    rEuler.set(0, (mouse.x * Math.PI) / 6, 0)\n    planeRef.current.quaternion.slerp(rQuaternion.setFromEuler(rEuler), 0.1)\n\n    if (direction != null) {\n      materialRef.current.uniforms.progress.value += 0.05 * direction\n      if (\n        (materialRef.current.uniforms.progress.value >= 1 && direction == 1)\n        ||\n        (materialRef.current.uniforms.progress.value <= 0 && direction == -1)\n      ) {\n        materialRef.current.uniforms.progress.value = direction == 1 ? 1 : 0\n        setDirection(null)\n        store.dispatch({ type: 'BROWSE_WORK_TRANSITION_FINISH'})\n      }\n    }\n  })\n\n  useEffect(() => {\n    const image = store.getState().works.data[currentIndex].image\n    const direction = store.getState().works.direction\n    const texture = new THREE.TextureLoader().load(process.env.PUBLIC_URL + `/works/${image}`)\n    setDirection(direction)\n\n    if (direction == null) {\n      materialRef.current.uniforms.progress.value = 0.0\n      materialRef.current.uniforms.tex.value = texture\n    }\n    else if (direction == 1) {\n      if (materialRef.current.uniforms.progress.value == 1) {\n        materialRef.current.uniforms.tex.value = materialRef.current.uniforms.tex2.value\n        materialRef.current.uniforms.progress.value = 0\n      }\n      materialRef.current.uniforms.tex2.value = texture\n    }\n    else if (direction == -1) {\n      if (materialRef.current.uniforms.progress.value == 0) {\n        materialRef.current.uniforms.tex2.value = materialRef.current.uniforms.tex.value\n        materialRef.current.uniforms.progress.value = 1\n      }\n      materialRef.current.uniforms.tex.value = texture\n    }  \n  }, [currentIndex])\n\n  const displacement = useTexture(require('@/assets/images/displacement.jpg').default)\n\n  return (\n    <group ref={planeRef} position={[0, 3, 0]}>\n      <mesh castShadow position={[0, 0, -0.2]}>\n        <boxGeometry attach=\"geometry\" args={[10, 6, 0.1]} />\n        <meshStandardMaterial transparent opacity={0}/>\n      </mesh>\n      <mesh>\n        <planeBufferGeometry attach=\"geometry\" args={[10, 6]} /> \n        <shaderMaterial \n          ref={materialRef} \n          args={[WorkLightShader]} \n          uniforms-disp-value={displacement}\n          attach=\"material\" \n        />\n      </mesh>\n    </group>\n  )\n}\n\nconst Ground = () => {\n  return (\n    <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n      <planeBufferGeometry attach=\"geometry\" args={[100, 100]} />\n      <shadowMaterial attach=\"material\" transparent opacity={0.4} />\n    </mesh>\n  )\n}\n\nconst MAX_RATIO = 1.78\nconst Resize = ({ setPosition }) => {\n  const { size } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const ratio = size.width / size.height\n        const x = -4 + 12 * ratio / MAX_RATIO\n        const y = Math.min(-3, -11 + 8 * ratio / MAX_RATIO)\n        const z = Math.min(5, -5 + 10 * ratio / MAX_RATIO)\n        setPosition([x, y, z])\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function WorksLight() {\n\n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const [position, setPosition] = useState([8, -3, 5])\n\n  return (\n    <Canvas\n      shadows\n      gl={{ antialias: true }}\n      camera={{ position: DEFAULT_CAMERA_POS, fov: 35 }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <Resize setPosition={setPosition} />\n      <Suspense fallback={null}>\n        <color attach=\"background\" args={['white']} />\n        <ambientLight intensity={0.4} />\n        <pointLight position={[-10, 0, 20]} intensity={1} />\n        <directionalLight\n          castShadow\n          position={[-4, 12, 4]}\n          intensity={2}\n          shadow-mapSize-width={1024}\n          shadow-mapSize-height={1024}\n          shadow-camera-far={50}\n          shadow-camera-left={-20}\n          shadow-camera-right={20}\n          shadow-camera-top={20}\n          shadow-camera-bottom={-20}\n        />\n        <group rotation={[0, Math.PI * -0.05, 0]} position={position}>\n          <Ground/>\n          <Show currentIndex={currentIndex} />\n        </group>\n        <Effects isAAOn />\n      </Suspense>\n    </Canvas>\n  )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\n\nimport {\n  InfoContainer,\n  InfoTopContainer,\n  InfoTitle,\n  InfoType,\n  InfoContent,\n  InfoBottom,\n  BottomRow,\n  VisitSite\n} from './styles'\n\nimport MaskedElement from '@/components/MaskedElement'\n\nimport Dark from './Dark'\nimport Light from './Light'\n\nconst Info = React.memo(() => {\n\n  let timeoutRef = useRef(null)\n\n  // set info \n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const [info, setInfo] = useState(null)\n  useEffect(() => {\n    if (timeoutRef.current != null) \n      clearTimeout(timeoutRef.current)\n\n    const direction = store.getState().works.direction\n    if (direction != null) {\n      document.body.classList.add(\"is-work-changing\")\n      timeoutRef.current = setTimeout(\n        () => {\n          setInfo(store.getState().works.data[currentIndex])\n          setTimeout( () => document.body.classList.remove(\"is-work-changing\"), 50)\n        }\n      , 800)\n    }\n    else setInfo(store.getState().works.data[currentIndex])\n  }, [currentIndex])\n\n  const browseWork = (direction) => {\n    store.dispatch({ type: 'BROWSE_WORK', direction: direction })\n  }\n\n  const InfoTop = React.memo(() => {\n    return (\n      <MaskedElement>\n        <InfoTopContainer\n          style={{ '--infoColor': info.color }}\n        >\n          <InfoTitle className='reveal-text'>\n            {info?.title?? ''}\n          </InfoTitle>\n          <br/>\n          <InfoType className='reveal-text'>\n            <i>({info?.type?? ''})</i> /{info?.tags?? ''}/\n          </InfoType>\n          <br/>\n          <InfoContent className='reveal-text'>\n            {info?.about?? ''}\n          </InfoContent>\n        </InfoTopContainer>\n        \n        <InfoTopContainer \n          className='is-back'\n          style={{ '--infoColor': info.color }}\n        >\n          <InfoTitle className='reveal-text'>\n            {info?.title?? ''}\n          </InfoTitle>\n          <br/>\n          <InfoType className='reveal-text'>\n            <i>({info?.type?? ''})</i> /{info?.tags?? ''}/\n          </InfoType>\n          <br/>\n          <InfoContent className='reveal-text'>\n            {info?.about?? ''}\n          </InfoContent>\n        </InfoTopContainer>\n      </MaskedElement>\n    )\n  })\n\n  return (\n    <InfoContainer>\n\n      <VisitSite \n        target=\"_blank\" \n        href={info?.link}\n        className='reveal-text' \n        style={ info?.color && { '--infoColor': info.color }} \n      >\n        {'> VISIT SITE'}\n      </VisitSite>\n      \n      {info && <InfoTop/>}\n\n      <InfoBottom>\n        <div className='button' onClick={() => browseWork(-1)}>\n          <span>{'< prev'}</span>\n        </div>\n        <div className='button' onClick={() => browseWork(1)}>\n          <span>{'next >'}</span>\n        </div>\n      </InfoBottom>\n\n    </InfoContainer>\n  )\n})\n\nexport default function Works() {\n\n  useEffect(() => {\n    setTimeout(() => setIsShown(true), 300)\n  }, [])\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location)\n\n  const [isShown, setIsShown] = useState(false)\n  const isHiding = !isShown || (location.isChanging && (location.target?.pathname && location.target.pathname != '/works'))\n\n  return (\n    <>\n      { (!darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: darkMode.isOn && !darkMode.isTransitioning ? 0 : 1,\n          }}\n        >\n          <Light/>\n        </div>\n      }\n\n      { (darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: !darkMode.isOn && !darkMode.isTransitioning ? 0 : 1\n          }}\n        >\n          <Dark/>\n        </div>\n      }\n\n      <Info/>\n    </>\n  )\n}\n","import React, { useRef, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Cursor = () => {\n\n  const ref = useRef()\n\n  const updateMousePosition = ev => {\n    if (ref.current) \n      ref.current.style.transform = `translate(${ev.clientX - 52.7}px, ${ev.clientY - 52.7}px)`\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousemove\", updateMousePosition)\n    return () => window.removeEventListener(\"mousemove\", updateMousePosition)\n  }, [])\n\n  const isDark = useSelector(state => state.darkMode.isOn)\n\n  return (\n    <div \n      ref={ref}\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        zIndex: 999,\n        top: 0,\n        left: 0,\n        transform: `scale(0)`\n      }}\n    >\n      <svg>\n        <polygon fill=\"none\" stroke={isDark ? '#898989' : \"black\"} points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/>\n      </svg>\n    </div>\n  )\n}\n\nexport default Cursor","import styled from 'styled-components';\n\nexport const NavBarContainer = styled.nav`\n    position: absolute;\n    top: 3%;\n    right: 3%;\n    display: flex;\n    font-size: 16px;\n\n    @media (max-width: 400px) {\n        font-size: 14px;\n        right: 0;\n    }\n`\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport {\n  NavBarContainer,\n} from './styles'\n\n\nexport default function NavBar() {\n\n  const NavButton = ({ target }) => {\n\n    return (\n      <Link to={`/${target}`} className='button' >\n        <span>{target == '' ? 'home' : target}</span>\n      </Link>\n    )\n  }\n \n  return (\n    <NavBarContainer>\n      <NavButton target=''/>\n      <NavButton target='about'/>\n      <NavButton target='works'/>\n    </NavBarContainer>\n  )\n}\n","import styled from 'styled-components';\n\nexport const DarkButtonWrapper = styled.div`\n    position: absolute;\n    bottom: 4%;\n    right: 3%;\n    padding: 8px;\n\n    @media (max-width: 400px) {\n        bottom: 2%;\n    }\n\n    .is-mode-changing & {\n        pointer-events: none;\n    }\n\n    svg {\n        width: 30px;\n        height: 30px;\n        opacity: 0.2;\n        transition: opacity 0.4s ease-in-out;\n\n        .is-mode-changing & {\n            opacity: 0;\n        }\n    }\n\n    div {\n        width: 7em;\n        font-family: CocoSharp, sans-serif;\n        font-weight: 100;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0%);\n        opacity: 0;\n        transition: all 0.6s ease-in-out;\n        pointer-events: none;\n        color: black;\n\n        .is-dark & {\n            color: #898989;\n        }\n    }\n\n    &:hover:not(.is-mode-changing *) {\n        svg {\n            opacity: 1;\n        }\n\n        div {\n            opacity: 1;\n            transform: translate(-50%, -80%);\n        }\n    }\n`\n\n\n","import React from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport { isMobile } from 'react-device-detect'\n\nimport {\n  DarkButtonWrapper,\n} from './styles'\n\nexport default function DarkButton() {\n\n  const darkMode = useSelector(state => state.darkMode)\n\n  const onClick = () => {\n    if (!darkMode.isChanging)\n      store.dispatch({ type: 'CHANGE_DARK_MODE' })\n  }\n \n  return (\n    <DarkButtonWrapper onClick={onClick}>\n      <svg viewBox=\"0 0 24 24\">\n        <path fill={darkMode.isOn ? \"#898989\" : \"black\"} d=\"M12,18V6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,15.31L23.31,12L20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31Z\" />\n      </svg>\n      {!isMobile && <div>change theme</div>}\n    </DarkButtonWrapper>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport store from '@/store'\nimport { Switch, Route, useLocation } from 'react-router-dom'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { isMobile } from 'react-device-detect'\n\nimport history from './history'\n\nimport Home from '@/pages/Home'\nimport Works from '@/pages/Works'\nimport Cursor from '@/components/Cursor'\nimport NavBar from '@/components/NavBar'\nimport DarkButton from '@/components/DarkButton'\n\nconst Routes = () => {\n\n  const defaultLocation = useLocation()\n  const location = useSelector(state => state.location.current)\n  const isDark = useSelector(state => state.darkMode.isOn)\n\n  useEffect(() => {\n    store.dispatch({ type: 'INIT_LOCATION', location: defaultLocation })\n  }, [])\n\n  useEffect(() => {\n    if (defaultLocation?.pathname != location?.pathname) {\n      store.dispatch({ type: 'SET_LOCATION_REQUEST', location: defaultLocation })\n      document.body.classList.add(\"is-route-changing\")\n\n      if (! (!isDark && defaultLocation?.pathname == '/works') ) { // except home light to work\n        setTimeout(() => store.dispatch({ type: 'SET_LOCATION' }), 800)\n      }\n    }\n  }, [defaultLocation])\n\n  useEffect(() => {\n    setTimeout(() => document.body.classList.remove(\"is-route-changing\"), 400)\n  }, [location])\n\n  return (\n    <Switch location={location ?? defaultLocation}>\n      <Route exact path={[\"/\", \"/about\"]} component={Home} />\n      <Route path=\"/works\" component={Works} />\n    </Switch>\n  )\n}\n\nexport default function Router() {\n\n  return (\n    <ConnectedRouter history={history}>\n      <Routes/>\n      <NavBar/>\n      <DarkButton/>\n      {!isMobile && <Cursor/>}\n    </ConnectedRouter>\n  )\n}\n","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  /* Default */\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    outline: 0;\n    padding: 0;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    cursor: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 50 50\" overflow=\"visible\" stroke=\"black\" stroke-width=\"1.5\" stroke-linecap=\"round\"><line x1=\"25\" x2=\"25\" y1=\"50\" /><line x1=\"50\" y1=\"25\" y2=\"25\" /></svg>') 7 7, auto !important;\n\n    background-color: white;\n    transition: background-color 0.5s ease-in-out;\n\n    &.is-dark {\n      background-color: black;\n      cursor: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 50 50\" overflow=\"visible\" stroke=\"#BBBBBB\" stroke-width=\"1.5\" stroke-linecap=\"round\"><line x1=\"25\" x2=\"25\" y1=\"50\" /><line x1=\"50\" y1=\"25\" y2=\"25\" /></svg>') 7 7, auto !important;\n    }\n  }\n  \n  a, button {\n    outline: none;\n    color: unset;\n    text-decoration: unset;\n    cursor: unset;\n  }\n\n  html, body, #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  .button {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    font-family: CocoSharp, sans-serif;\n    font-weight: 100;\n    margin: 0 0px;\n    text-decoration: none;\n    width: 7em;\n    height: 1.4em;\n    text-align: center;\n    color: black!important;\n    overflow: hidden;\n\n    .is-dark & {\n        color: #898989 !important;\n    }\n\n    .is-mode-changing & {\n        overflow: hidden;\n    }\n\n    span {\n      letter-spacing: 0.2em;\n      transition: all 0.5s ease-in-out;\n      position: relative;\n  \n      .is-route-changing &:not(nav *), .is-mode-changing &, .not-ready & {\n        transform: translateY(100%);\n      }\n  \n      ::after {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 0%;\n        height: 1px;\n        background-color: black;\n        transition: all 0.5s ease-in-out;\n\n        .is-dark & {\n          background-color: #999999;\n        }\n      }\n  \n      &:hover {\n        letter-spacing: 0.4em;\n        ::after {\n            width: 90%;\n        }\n      }\n    }\n  }\n\n  .reveal-text {\n    transition: all 0.8s ease-in-out, color 0s;\n    mask-image: linear-gradient(to right, black 0%, black 33.33%, transparent 66.66%);\n    mask-size: 300% 200%;\n    mask-position: 0% 0%;\n    \n    .is-work-changing &, .is-route-changing &, .is-mode-changing &, .not-ready & {\n      mask-position: 100% 0%;\n      transform: translateX(-20%);\n    }\n  }\n\n  .canvas-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n\n    canvas {\n      transition: opacity 0.5s ease-in-out;\n      .not-ready &, .is-three-loading &, .is-hiding& {\n        opacity: 0;\n      }\n    }\n  }\n\n  .mask {\n    mask-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>');\n    mask-repeat: no-repeat;\n  }\n\n  .inverted-mask {\n    // mask-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff);\n    mask-repeat: no-repeat, no-repeat;\n    -webkit-mask-composite: destination-out !important;\n    mask-composite: exclude !important; \n    // mask-position: -60px -60px, 0 0; \n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n`;\n\nexport default GlobalStyle\n","import React, { useEffect, useRef } from 'react'\nimport { Provider } from 'react-redux'\nimport { useSelector } from 'react-redux'\nimport { useProgress } from \"@react-three/drei\"\nimport store from './store'\n\nimport Routes from './routes'\nimport GlobalStyled from './styles/global'\n\ndocument.body.classList.add(\"not-ready\")\n\nfunction App() {\n\n  useEffect(async () => {\n    const response = await fetch(process.env.PUBLIC_URL + '/works.json')\n    const works = await response.json()\n    store.dispatch({ type: 'INIT_WORKS', data: works })\n    document.body.classList.add(\"is-light\")\n    \n    setTimeout(\n      () => {\n        document.body.classList.remove(\"not-ready\")\n      }\n    , 500)\n  }, [])\n\n  return (\n    <Provider store={store}>\n      <GlobalStyled/>\n      <Routes/>\n      <ThreeLoader/>\n    </Provider>\n  )\n}\n\nconst ThreeLoader = () => {\n  const darkMode = useSelector(state => state.darkMode)\n  const { active } = useProgress()\n\n  // dark mode load next scene\n  let darkModeTimeoutRef = useRef(null)\n  useEffect(() => {\n    if (!darkMode.isTransitioning & darkMode.isChanging && !active) {\n      if (darkModeTimeoutRef.current != null) clearTimeout(darkModeTimeoutRef.current)\n\n      darkModeTimeoutRef.current = setTimeout(\n        () => {\n          store.dispatch({ type: 'DARK_MODE_TRANSITION_START' })\n        }\n      , 1400)\n    }\n  }, [active, darkMode.isChanging])\n  \n\n  return null\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}