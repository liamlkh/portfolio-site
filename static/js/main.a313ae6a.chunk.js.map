{"version":3,"sources":["assets/images/rusty.jpg","assets/images/roughness.jpg","assets/images/displacement.jpg","routes/history.js","store/ducks/location.js","store/ducks/darkMode.js","store/ducks/works.js","store/sagas/darkMode.js","store/sagas/index.js","store/index.js","store/ducks/index.js","pages/Home/styles.js","components/Effects.js","shaders/TransitionShader.js","components/DarkModeTransition.js","pages/Home/Dark.js","pages/Home/Light.js","components/About/styles.js","components/Heptagon.js","components/About/index.js","components/MaskedElement.js","pages/Home/index.js","pages/Works/styles.js","shaders/WorkDarkShader.js","pages/Works/Dark.js","shaders/WorkLightShader.js","pages/Works/Light.js","pages/Works/index.js","components/Cursor.js","components/NavBar/styles.js","components/NavBar/index.js","components/DarkButton/styles.js","components/DarkButton/index.js","routes/index.js","styles/global.js","App.js","index.js"],"names":["history","createBrowserHistory","createActions","initLocation","setLocationRequest","setLocation","Types","INITIAL_STATE","Creators","Immutable","current","target","isChanging","reducer","createReducer","INIT_LOCATION","state","location","merge","SET_LOCATION_REQUEST","SET_LOCATION","changeDarkMode","darkModeTransitionStart","darkModeTransitionFinish","DarkModeTypes","isOn","isTransitioning","CHANGE_DARK_MODE","DARK_MODE_TRANSITION_START","DARK_MODE_TRANSITION_FINISH","initWorks","browseWork","browseWorkTransitionFinish","currentIndex","data","direction","INIT_WORKS","length","BROWSE_WORK","BROWSE_WORK_TRANSITION_FINISH","document","body","classList","add","remove","contains","rootSaga","all","takeLatest","sagaMiddleware","createSagaMiddleware","middlewares","thunkMiddleware","routerMiddleware","store","createStore","combineReducers","router","connectRouter","darkMode","works","compose","applyMiddleware","run","sagas","Title","styled","div","Effects","children","isGammaOn","isAAOn","composerRef","useRef","useThree","scene","gl","size","camera","useEffect","setSize","width","height","useFrame","render","ref","args","attachArray","GammaCorrectionShader","FXAAShader","extend","EffectComposer","ShaderPass","RenderPass","TransitionShader","uniforms","tDiffuse","value","progress","resolution","noise","transparent","vertexShader","fragmentShader","TransitionShaderPass","isDark","shaderRef","material","_","delta","dispatch","type","useTexture","require","default","THREE","DarkModeTransition","props","SAOPass","BokehPass","SIZE","START_DURATION","MIN_Z_SCALE","Pattern","isKilledRef","rectsMeshRef","rectsFaceRef","useState","rects","setRects","dummy","useMemo","genRects","xPos","yPos","x","randFloat","Math","random","y","push","rand","zScale","maxZScale","isRegened","isStarted","clock","getElapsedTime","t","abs","forEach","rect","i","instanceMatrix","array","max","min","position","set","scale","updateMatrix","setMatrixAt","matrix","z","needsUpdate","color","rotation","PI","castShadow","receiveShadow","Spot","mouse","distance","intensity","MyEffect","focus","aperture","maxblur","needsSwap","HomeDark","useSelector","pathname","includes","shadows","dpr","alpha","antialias","fov","near","far","onCreated","resize","polyfill","ResizeObserver","attach","fallback","Environment","preset","React","memo","softShadows","frustum","samples","rings","RECT_SIZE","rectsShadowRef","squaresMeshRef","squares","setSquares","Rect","j","index","attributes","square","round","geometry","side","opacity","flatShading","Resize","timeoutRef","canvas","getElementsByClassName","style","clearTimeout","setTimeout","size_","zoom","updateProjectionMatrix","HomeLight","orthographic","stencil","depth","multisampling","radius","luminanceInfluence","brightness","Wrapper","Container","Heptagon","viewBox","points","calc","window","innerHeight","innerWidth","trans","s","About","useSpring","xys","config","mass","tension","friction","spring","setSpring","as","animated","onMouseMove","clientX","clientY","onMouseLeave","transform","interpolate","strokeWidth","stroke","fill","MaskedElement","frontRef","backRef","updateMousePosition","ev","getBoundingClientRect","left","top","browserName","webkitMask","webkitMaskPosition","addEventListener","removeEventListener","Front","cloneElement","className","webkitMaskImage","Back","Element","isMobile","Home","setIsShown","isShown","isHiding","Dark","InfoContainer","InfoTopContainer","InfoTitle","p","InfoType","InfoContent","InfoBottom","VisitSite","a","WorkDarkShader","tex","tex2","time","distortion","distortion2","speed","rollSpeed","DEFAULT_CAMERA_POS","Show","setIsChanging","planeRef","vec","rEuler","rQuaternion","materialRef","image","getState","texture","load","lerp","quaternion","slerp","setFromEuler","Ground","roughness","Reflector","mirror","mixBlur","mixStrength","Material","metalness","roughnessMap","MAX_RATIO","setPosition","ratio","WorksDark","WorkLightShader","effectFactor","undefined","disp","setDirection","displacement","WorksLight","Info","info","setInfo","InfoTop","title","tags","about","href","link","onClick","Works","Cursor","pointerEvents","zIndex","NavBarContainer","nav","NavBar","NavButton","to","DarkButtonWrapper","DarkButton","d","Routes","defaultLocation","useLocation","exact","path","component","Router","GlobalStyle","createGlobalStyle","ThreeLoader","active","useProgress","darkModeTimeoutRef","App","fetch","response","json","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.a313ae6a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/rusty.c6d306ec.jpg\";","export default __webpack_public_path__ + \"static/media/roughness.3d48a9bb.jpg\";","export default __webpack_public_path__ + \"static/media/displacement.9d21d60d.jpg\";","import { createBrowserHistory } from 'history';\n\nconst history = createBrowserHistory();\n\nexport default history;\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  initLocation: ['location'],\n  setLocationRequest: ['location'],\n  setLocation: [],\n})\n\nexport const LocationTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  current: null,\n  target: null,\n  isChanging: false,\n})\n\n/* Reducers */\n\nconst initLocation = (state, { location }) => state.merge({\n  ...state,\n  current: location\n})\n\nconst setLocationRequest = (state, { location }) => state.merge({\n  ...state,\n  target: location,\n  isChanging: true,\n})\n\nconst setLocation = (state) => state.merge({\n  ...state,\n  current: state.target,\n  target: null,\n  isChanging: false,\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.INIT_LOCATION]: initLocation,\n  [Types.SET_LOCATION_REQUEST]: setLocationRequest,\n  [Types.SET_LOCATION]: setLocation,\n})\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  changeDarkMode: [],\n  darkModeTransitionStart: [],\n  darkModeTransitionFinish: [],\n})\n\nexport const DarkModeTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  isOn: false,\n  isChanging: false,\n  isTransitioning: false,\n\n})\n\n/* Reducers */\n\nconst changeDarkMode = (state) => state.merge({\n  ...state,\n  isChanging: true,\n})\n\nconst darkModeTransitionStart = (state) => state.merge({\n  ...state,\n  isTransitioning: true\n})\n\nconst darkModeTransitionFinish = (state) => state.merge({\n  isOn: !state.isOn,\n  isChanging: false,\n  isTransitioning: false\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.CHANGE_DARK_MODE]: changeDarkMode,\n  [Types.DARK_MODE_TRANSITION_START]: darkModeTransitionStart,\n  [Types.DARK_MODE_TRANSITION_FINISH]: darkModeTransitionFinish,\n})\n","import { createReducer, createActions } from 'reduxsauce';\nimport Immutable from 'seamless-immutable';\n\n/* Types & Action Creators */\n\nconst { Types, Creators } = createActions({\n  initWorks: ['data'],\n  browseWork: ['direction'],\n  browseWorkTransitionFinish: []\n})\n\nexport const WorksTypes = Types;\nexport default Creators;\n\n/* Initial State */\n\nexport const INITIAL_STATE = Immutable({\n  currentIndex: null,\n  data: [],\n  direction: null,\n})\n\n/* Reducers */\n\nconst initWorks = (state, { data }) => state.merge({\n  currentIndex: data.length > 0 ? 0 : null,\n  data: data,\n})\n\nconst browseWork = (state, { direction }) => state.merge({\n  ...state,\n  currentIndex: (state.data.length + state.currentIndex + direction) % state.data.length,\n  direction: direction\n})\n\nconst browseWorkTransitionFinish = (state) => state.merge({\n  ...state,\n  direction: null\n})\n\n/* Reducers to types */\n\nexport const reducer = createReducer(INITIAL_STATE, {\n  [Types.INIT_WORKS]: initWorks,\n  [Types.BROWSE_WORK]: browseWork,\n  [Types.BROWSE_WORK_TRANSITION_FINISH]: browseWorkTransitionFinish,\n})\n","export function* changeDarkMode() {\n  document.body.classList.add(\"is-mode-changing\")\n}\n\nexport function* darkModeTransitionFinish() {\n  document.body.classList.remove(\"is-mode-changing\")\n\n  if (document.body.classList.contains(\"is-light\")) {\n    document.body.classList.remove(\"is-light\")\n    document.body.classList.add(\"is-dark\")\n  }\n  else {\n    document.body.classList.remove(\"is-dark\")\n    document.body.classList.add(\"is-light\")\n  }\n} \n","import {\n  all,\n  takeLatest,\n} from 'redux-saga/effects'\n\nimport { DarkModeTypes } from '../ducks/darkMode'\nimport { changeDarkMode, darkModeTransitionFinish } from './darkMode'\n\nexport default function* rootSaga() {\n  yield all([\n    takeLatest(DarkModeTypes.CHANGE_DARK_MODE, changeDarkMode),\n    takeLatest(DarkModeTypes.DARK_MODE_TRANSITION_FINISH, darkModeTransitionFinish),\n  ])\n}\n","import { createStore, compose, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { routerMiddleware } from 'connected-react-router';\nimport thunkMiddleware from 'redux-thunk';\n\nimport history from '@/routes/history';\n\nimport rootReducer from './ducks';\nimport sagas from './sagas';\n\nconst sagaMiddleware = createSagaMiddleware();\nconst middlewares = [\n  sagaMiddleware,\n  thunkMiddleware,\n  routerMiddleware(history),\n];\n\nconst store = createStore(\n  rootReducer(history),\n  {},\n  compose(applyMiddleware(...middlewares)),\n);\n\nsagaMiddleware.run(sagas);\n\nexport default store;\n","import { combineReducers } from 'redux'\nimport { connectRouter } from 'connected-react-router'\n\nimport { reducer as location } from './location'\nimport { reducer as darkMode } from './darkMode'\nimport { reducer as works } from './works'\n\nexport default (history) =>\n  combineReducers({\n    router: connectRouter(history),\n    location,\n    darkMode,\n    works,\n  });\n","import styled from 'styled-components';\n\nexport const Title = styled.div`\n    position: absolute;\n    top: 7%;\n    left: 3%;\n    font-size: 24px;\n    text-align: right;\n    font-family: Breadley, serif;\n    padding: 2em;\n\n    @media (max-width: 400px) {\n        left: unset;\n        top: 13%;\n        right: 5%;\n        width: 60%;\n        padding: 0;\n    }\n\n    h1 {\n        position: relative;\n        font-weight: bold;\n        font-size: 3.2em;\n        line-height: 0.85em;\n        letter-spacing: 0.04em;\n    }\n\n    h2 {\n        position: relative;\n        font-family: Breadley, serif;\n        font-weight: normal;\n        font-size: 1em;\n        letter-spacing: 0.04em;\n\n        @media (max-width: 400px) {\n            margin-top: 0.3em;\n        }\n    }\n\n    .is-dark & {\n        color: #a1377a;\n    }\n    \n    &.is-back {\n        * {\n            transform: scale(1.15);\n        }\n        .is-dark & {\n            filter: drop-shadow(5px 5px 5px #a1377a) invert(35%);\n\n            .is-work-changing &, .is-route-changing &, .is-transitioning & {\n                opacity: 0 !important;\n            }\n        }\n    }\n\n    & * {\n        // transition: opacity 0.8s ease-in-out;\n    }\n\n    .is-route-changing & * {\n        // opacity: 0;\n    }\n`;\n\n\n\n","import React, { useRef, useEffect } from 'react'\nimport { useThree, useFrame, extend } from '@react-three/fiber'\nimport { GammaCorrectionShader } from 'three/examples/jsm/shaders/GammaCorrectionShader'\nimport { EffectComposer } from 'three/examples/jsm/postprocessing/EffectComposer'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\nimport { RenderPass } from 'three/examples/jsm/postprocessing/RenderPass'\nimport { FXAAShader } from 'three/examples/jsm/shaders/FXAAShader'\n\nextend({ EffectComposer, ShaderPass, RenderPass })\n\nexport default function Effects({ children, isGammaOn, isAAOn }) {\n\n  const composerRef = useRef()\n  const { scene, gl, size, camera } = useThree()\n  \n  useEffect(() => {\n    composerRef.current.setSize(size.width, size.height)\n  }, [size])\n\n  useFrame(() => {\n    if (composerRef.current) composerRef.current.render()\n  }, 1)\n\n  return (\n    <effectComposer ref={composerRef} args={[gl]} >\n      <renderPass attachArray=\"passes\" scene={scene} camera={camera} />\n      {children}\n      {isGammaOn && <shaderPass attachArray=\"passes\" args={[GammaCorrectionShader]} />}\n      {isAAOn && <shaderPass attachArray=\"passes\" args={[FXAAShader]} material-uniforms-resolution-value={[1 / size.width, 1 / size.height]} />}\n    </effectComposer>\n  )\n}\n","const TransitionShader = {\n    uniforms: {\n        tDiffuse: { value: null },\n        progress: { value: 0.0 },\n        resolution: { value: null },\n        noise: { value: null },\n        transparent: true,\n    },\n  \n    vertexShader: `\n        varying vec2 vUv;\n        void main() {\n            vUv = uv;\n            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n        }\n    `,\n  \n    fragmentShader: `\n        #include <common>\n\n        uniform float progress;\n        uniform sampler2D tDiffuse;\n        uniform vec2 resolution;\n        varying vec2 vUv;\n\n        uniform float opacity;\n\n        float Hash(vec2 p) {\n            p  = 50.0 * fract( p * 0.3183099 + vec2(0.71, 0.113) );\n            return -1.0 + 2.0 * fract( p.x * p.y * (p.x + p.y) );\n        }\n\n        float noise(in vec2 p) {\n            vec2 i = floor(p);\n            vec2 f = fract(p);\n            \n            vec2 u = f*f*(3.0 - 2.0 * f);\n\n            return mix( mix( Hash( i + vec2(0.0, 0.0) ), \n                            Hash( i + vec2(1.0, 0.0) ), u.x),\n                        mix( Hash( i + vec2(0.0, 1.0) ), \n                            Hash( i + vec2(1.0, 1.0) ), u.x), u.y);\n        }\n\n        void main() {\n\n            // noise value\n            vec2 uv = vUv * vec2(resolution.x/resolution.y, 1.0);\n            float f = 0.0;\n            uv *= 0.7;\n            mat2 m = mat2( 2,  2, -2,  2 );\n            f  = 0.5000*noise( uv ); uv = m*uv;\n            f += 0.2500*noise( uv ); uv = m*uv;\n            f += 0.1250*noise( uv ); uv = m*uv;\n            f += 0.0625*noise( uv ); uv = m*uv;\n            f = 0.5 + 0.5 * f;\n\n            // float th = sin( max(0.0, min(progress, 1.0) ) );\n            float th = sin(progress);\n            float tex = ( (f - .5) + 2. * vUv.y ) / 3.;\n            float dist = smoothstep( th - .3, th + .05, tex);\n            float col = pow( smoothstep(th - .2, th, tex), 3. );\n\n            vec4 color = texture2D(tDiffuse, vUv * (.5 + pow(dist, 2.) * .5 ) );\n                \n            vec4 discolor = vec4(0, 0, 0, 0);\n            gl_FragColor = vec4(mix(discolor, color, col));\n\n        }\n    `\n}\n\nexport default TransitionShader\n\n","import * as THREE from 'three'\nimport React, { useRef, useEffect } from 'react'\nimport store from '@/store'\nimport { useThree, useFrame, extend } from '@react-three/fiber'\nimport { useTexture } from '@react-three/drei'\nimport TransitionShader from '@/shaders/TransitionShader'\nimport { ShaderPass } from 'three/examples/jsm/postprocessing/ShaderPass'\n\nextend({ ShaderPass })\n\nconst TransitionShaderPass = ({ isDark }) => {\n\n  const shaderRef = useRef()\n  const { size } = useThree()\n\n  useEffect(() => {\n    shaderRef.current.material.uniforms.progress.value = isDark ? 0 : 1\n  }, [])\n\n  useFrame((_, delta) => {\n    if ( \n      (isDark && shaderRef.current.material.uniforms.progress.value > 1)\n      ||\n      (!isDark && shaderRef.current.material.uniforms.progress.value < 0)\n    )\n      store.dispatch({ type: 'DARK_MODE_TRANSITION_FINISH' })\n    else\n      shaderRef.current.material.uniforms.progress.value += delta * (isDark ? 1 : -1)\n  })\n\n  const noise = useTexture(require(\"@/assets/images/rusty.jpg\").default)\n  const resolution = new THREE.Vector2(size.width, size.height)\n\n  return (\n    <shaderPass \n      ref={shaderRef}\n      attachArray=\"passes\" \n      args={[TransitionShader]} \n      material-uniforms-resolution-value={resolution}  \n      material-uniforms-noise-value={noise}  \n    />\n  )\n}\n\nexport default function DarkModeTransition(props) {\n\n  const { isOn, isTransitioning } = props\n\n  return isTransitioning ? <TransitionShaderPass isDark={isOn} /> : null\n\n}\n","import React, { useState, useEffect, useMemo, useRef, Suspense } from 'react'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree, extend } from '@react-three/fiber'\nimport { Environment } from '@react-three/drei'\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport { SAOPass } from 'three/examples/jsm/postprocessing/SAOPass'\nimport { BokehPass } from 'three/examples/jsm/postprocessing/BokehPass'\n\nimport Effects from '@/components/Effects'\nimport DarkModeTransition from \"@/components/DarkModeTransition\"\n\nextend({ SAOPass, BokehPass })\n\nconst SIZE = 1.3\nconst SPEED = 0.08\nconst START_DELAY = 2\nconst START_DURATION = 2.5\nconst END_DURATION = 1\nconst STOP_DURATION = 2\nconst DURATION = START_DURATION + END_DURATION + STOP_DURATION\nconst X_COUNT = 40\nconst Y_COUNT = 25\nconst MIN_Z_SCALE = 0.01\nconst MAX_Z_SCALE = 3\nconst MIN_WIDTH = 2\nconst MAX_WIDTH = 4\nconst MIN_HEIGHT = 4\nconst MAX_HEIGHT = 8\n\nconst Pattern = ({ isKilledRef }) => {\n  \n  const rectsMeshRef = useRef()\n  const rectsFaceRef = useRef()\n\n  const [rects, setRects] = useState([])\n  const dummy = useMemo(() => new THREE.Object3D(), [])\n\n  const genRects = () => {\n    const rects = []\n\n    let xPos = 0, yPos = 0\n    for (let x = 0; x < X_COUNT; x ++) {\n      const width = THREE.MathUtils.randFloat(MIN_WIDTH, MAX_WIDTH)\n      yPos = Math.random() * SIZE * 6\n      for (let y = 0; y < Y_COUNT; y ++) {\n        const height = THREE.MathUtils.randFloat(MIN_HEIGHT, MAX_HEIGHT)\n        rects.push({ \n          x: xPos,\n          y: yPos,\n          width: width,\n          height: height,\n          rand: Math.random() * 0.8,\n          zScale: MIN_Z_SCALE,\n          maxZScale: MIN_Z_SCALE + Math.random() * (MAX_Z_SCALE - MIN_Z_SCALE)\n        })\n        yPos += height * SIZE \n      }\n      xPos += width * SIZE\n    }\n\n    setRects(rects)\n  }\n\n  useEffect(() => {\n    genRects()\n  }, [])\n\n  // update\n  let progress = 0\n  let direction = 1\n  let isRegened = true\n  let isStarted = false\n  useFrame((state) => {\n\n    if (state.clock.getElapsedTime() > START_DELAY) {\n      isStarted = true\n    }\n    \n    if (isStarted) {\n      const t = (state.clock.getElapsedTime() - START_DELAY) % DURATION\n      if (isKilledRef.current) { // change page\n        direction = -1\n      }\n      else {\n        if (!isRegened && Math.abs(t - DURATION) < 0.08) {\n          genRects()\n          isRegened = true\n        }\n        else if (t < START_DURATION) {\n          direction = 1\n          progress = t / START_DURATION\n          if (isRegened) isRegened = false\n        }\n        else if (t - START_DURATION < END_DURATION) {\n          direction = -1\n          progress = 1 - (t - START_DURATION) / END_DURATION\n        }\n        else {\n          progress = 0\n        }\n      }\n    }\n\n    rects.forEach((rect, i) => {\n      let { x, y, width, height, maxZScale, rand } = rect\n      let zScale = isStarted ? rectsMeshRef.current.instanceMatrix.array[i * 16 + 10] : MIN_Z_SCALE\n\n      const isTriggered = isKilledRef.current || (direction == 1 && progress > rand) || (direction == -1 && progress < rand)\n      if (isTriggered) {\n        zScale += direction * SPEED\n        zScale = Math.max(Math.min(zScale, maxZScale), MIN_Z_SCALE)\n      }\n\n      dummy.position.set(\n        x + width * SIZE * 0.5,\n        y + height * SIZE * 0.5,\n        0\n      )\n      dummy.scale.set(width, height, zScale)\n      dummy.updateMatrix()\n      rectsMeshRef.current.setMatrixAt(i, dummy.matrix)\n      \n\n      dummy.position.z = zScale * SIZE * 0.5 + 0.03\n      dummy.updateMatrix()\n      rectsFaceRef.current.setMatrixAt(i, dummy.matrix)\n    })\n    rectsMeshRef.current.instanceMatrix.needsUpdate = true\n    rectsFaceRef.current.instanceMatrix.needsUpdate = true\n\n  })\n\n  const material = new THREE.MeshLambertMaterial({ color: \"#111111\" })\n\n  return (\n    <group rotation={[0, 0, - Math.PI * 1 / 4]} position={[3, 24, 0]} scale={0.2} >\n      <group rotation={[Math.PI, 0, 0]} >\n        <instancedMesh castShadow ref={rectsMeshRef} args={[null, null, rects.length]} material={material} >\n          <boxBufferGeometry args={[SIZE, SIZE, SIZE]} />\n        </instancedMesh>\n        <instancedMesh receiveShadow ref={rectsFaceRef} args={[null, null, rects.length]} material={material} >\n          <planeBufferGeometry args={[SIZE, SIZE]} />\n        </instancedMesh>\n      </group>\n    </group>\n  )\n}\n\nconst Spot = () => {\n  const ref = useRef()\n\n  useFrame((state) => {\n    ref.current.position.x = state.mouse.x * 10\n    // ref.current.position.y = 20 + state.mouse.x * 5\n  })\n\n  return (\n    <pointLight ref={ref} position={[-10, 0, 10]} distance={11} color=\"#de8cc0\" intensity={8} />\n  )\n}\n\nconst MyEffect = ({ darkMode }) => {\n\n  const { scene, camera, size } = useThree()\n\n  return (\n    <Effects>\n      <sAOPass attachArray=\"passes\" args={[scene, camera, false, true]} params-saoIntensity={0.07} params-saoScale={2.5} params-saoBlurRadius={2} /> \n      <bokehPass attachArray=\"passes\" args={[scene, camera,  { focus: 14, aperture: 0.002, maxblur: 0.5, width: size.width, height: size.height }]} needsSwap />\n      <DarkModeTransition {...darkMode} />\n    </Effects>\n  )\n}\n\nconst HomeDark = () => {\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location.target)\n  const isKilledRef = useRef(false)\n\n  useEffect(() => {\n    if (location && location?.pathname != '/' && !location?.pathname.includes('about')) {\n      isKilledRef.current = true\n    }\n  }, [location])\n  \n  return (\n    <Canvas \n      shadows \n      dpr={[1, 2]} \n      gl={{ alpha: true, antialias: false }}\n      camera={{ position: [-2.26, -14, 8.9], fov: 30, near: 1, far: 35 }} \n      onCreated={({ camera }) => {\n        camera.rotation.set(1, -0.135, 0.2)\n      }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <color attach=\"background\" args={['black']} />\n      {/* <fog attach=\"fog\" args={['#202020', 10, 30]} /> */}\n      <ambientLight intensity={2} />\n      <Spot/>\n      <directionalLight\n        castShadow\n        intensity={0.1}\n        position={[10, 10, 8]}\n        shadow-mapSize-width={2048}\n        shadow-mapSize-height={2048}\n      /> \n      <Suspense fallback={null}>\n        <Pattern isKilledRef={isKilledRef} />\n        <Environment preset=\"warehouse\" />\n        <MyEffect darkMode={darkMode} />\n      </Suspense>\n    </Canvas>\n  )\n}\n\nexport default React.memo(HomeDark)\n","import React, { Suspense, useState, useEffect, useMemo, useRef } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { softShadows  } from \"@react-three/drei\"\nimport { EffectComposer, SSAO, BrightnessContrast } from \"@react-three/postprocessing\"\nimport { ResizeObserver } from '@juggle/resize-observer'\n\nsoftShadows({\n  frustum: 3.75,\n  size: 0.005,\n  near: 9.5,\n  samples: 30,\n  rings: 11, \n})\n\nconst SIZE = 1.3\nconst HEIGHT = 2.5\nconst SPEED = 0.05\nconst START_DELAY = 2\nconst START_DURATION = 2.5\nconst END_DURATION = 1\nconst STOP_DURATION = 2\nconst DURATION = START_DURATION + END_DURATION + STOP_DURATION\nconst X_COUNT = 20\nconst Y_COUNT = 15\nconst MIN_Z_SCALE = 0.01\nconst RECT_SIZE = [\n  [4, 6],\n  [3, 8],\n  [2, 6]\n]\n\nconst Pattern = ({ isKilledRef }) => {\n  \n  const rectsMeshRef = useRef()\n  const rectsShadowRef = useRef()\n  const squaresMeshRef = useRef()\n\n  const [rects, setRects] = useState([])\n  const [squares, setSquares] = useState([])\n  const dummy = useMemo(() => new THREE.Object3D(), [])\n\n  const Rect = new THREE.PlaneBufferGeometry(SIZE, SIZE, 1, 2)\n  for (let i = 0; i < 2; i ++ ) {\n    for (let j = 0; j < 2; j ++ ) {\n      const index = j == 0 ? 8 : 11 \n      const position = Rect.attributes.position.array\n      position[index] = HEIGHT\n    }\n  }\n\n  useEffect(() => {\n    if (squaresMeshRef.current) {\n      squares.forEach((square, i) => {\n        let { x, y, width, height } = square\n        dummy.position.set(\n          x + width * SIZE * 0.5,\n          y + height * SIZE * 0.5,\n          0\n        )\n        dummy.scale.set(width, height, 1)\n        dummy.updateMatrix()\n        squaresMeshRef.current.setMatrixAt(i, dummy.matrix)\n      })\n      squaresMeshRef.current.instanceMatrix.needsUpdate = true\n    }\n  }, [squares])\n\n  const genRects = () => {\n    const rects = []\n    const squares = []\n\n    const rand = Math.round(Math.random()) * 2\n\n    let xPos = 0\n    for (let x = 0; x < X_COUNT; x ++) {\n      const width = RECT_SIZE[(x + rand) % 3][0]\n      const height = RECT_SIZE[(x + rand) % 3][1]\n      let yPos = x % 3 == 0 ? 2 * SIZE : 0\n      for (let y = 0; y < Y_COUNT; y ++) {\n        if (y % 2 != 0) {\n          squares.push({\n            x: xPos,\n            y: yPos,\n            width: width,\n            height: 2,\n          })\n          yPos += 2 * SIZE\n        }\n        else {\n          rects.push({ \n            x: xPos,\n            y: yPos,\n            width: width,\n            height: height,\n            rand: Math.random() * 0.8,\n            zScale: MIN_Z_SCALE,\n          })\n          yPos += height * SIZE\n        }\n      }\n      xPos += width * SIZE\n    }\n\n    setRects(rects)\n    setSquares(squares)\n  }\n\n  useEffect(() => {\n    genRects()\n  }, [])\n\n  // update\n  let progress = 0\n  let direction = 1\n  let isRegened = true\n  let isStarted = false\n  useFrame((state) => {\n\n    if (state.clock.getElapsedTime() > START_DELAY) {\n      isStarted = true\n    }\n    \n    if (isStarted) {\n      const t = (state.clock.getElapsedTime() - START_DELAY) % DURATION\n      if (isKilledRef.current) { // change page\n        direction = -1\n      }\n      else {\n        if (!isRegened && Math.abs(t - DURATION) < 0.08) {\n          genRects()\n          isRegened = true\n        }\n        else if (t < START_DURATION) {\n          direction = 1\n          progress = t / START_DURATION\n          if (isRegened) isRegened = false\n        }\n        else if (t - START_DURATION < END_DURATION) {\n          direction = -1\n          progress = 1 - (t - START_DURATION) / END_DURATION\n        }\n        else {\n          progress = 0\n        }\n      }\n    }\n\n    rects.forEach((rect, i) => {\n      let { x, y, width, height, rand } = rect\n      let zScale = isStarted ? rectsMeshRef.current.instanceMatrix.array[i * 16 + 10] : MIN_Z_SCALE\n\n      const isTriggered = isKilledRef.current || (direction == 1 && progress > rand) || (direction == -1 && progress < rand)\n      if (isTriggered) {\n        zScale += direction * SPEED\n        zScale = Math.max(Math.min(zScale, 1), MIN_Z_SCALE)\n      }\n\n      dummy.position.set(\n        x + width * SIZE * 0.5,\n        y + height * SIZE * 0.5,\n        0\n      )\n      dummy.scale.set(width, height, zScale)\n      dummy.updateMatrix()\n      rectsMeshRef.current.setMatrixAt(i, dummy.matrix)\n\n      if (zScale < 0.03) \n        dummy.scale.set(0, 0, 0)\n      else\n        dummy.scale.set(width, height, zScale * 0.9)\n\n      dummy.updateMatrix()\n      rectsShadowRef.current.setMatrixAt(i, dummy.matrix)\n    })\n    rectsMeshRef.current.instanceMatrix.needsUpdate = true\n    rectsShadowRef.current.instanceMatrix.needsUpdate = true\n\n  })\n\n  return (\n    <group rotation={[0, 0, -Math.PI * 3 / 4]}>\n      <group position={[-38, -39, 0]}>\n\n        <instancedMesh castShadow ref={rectsShadowRef} args={[null, null, rects.length]} geometry={Rect}>\n          <meshStandardMaterial side={THREE.DoubleSide} transparent opacity={0} flatShading  />\n        </instancedMesh>\n\n        <instancedMesh receiveShadow ref={rectsMeshRef} args={[null, null, rects.length]} geometry={Rect}>\n          <meshStandardMaterial side={THREE.DoubleSide} flatShading />\n        </instancedMesh>\n        \n        <instancedMesh receiveShadow ref={squaresMeshRef} args={[null, null, squares.length]}>\n          <planeBufferGeometry args={[SIZE, SIZE, 1, 1]}/>\n          <meshStandardMaterial side={THREE.DoubleSide} flatShading />\n        </instancedMesh>\n\n      </group>\n    </group>\n  )\n}\n\nconst RATIO = 1.75\nconst MIN_ZOOM = 15\nconst Resize = () => {\n  const { size, camera } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    const canvas = document.getElementsByClassName('canvas-wrapper')[0]\n    if (canvas) canvas.style.opacity = 0\n\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const size_ = size.width / size.height >= RATIO ? size.width : size.height * RATIO\n        const zoom = size_ < 800 ? MIN_ZOOM : MIN_ZOOM + (size_ - 800) * 0.014\n        camera.zoom = zoom\n        camera.updateProjectionMatrix() \n        if (canvas) canvas.style.opacity = 1\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function HomeLight() {\n\n  const location = useSelector(state => state.location.target)\n  const isKilledRef = useRef(false)\n\n  useEffect(() => {\n    if (location && location?.pathname != '/' && !location?.pathname.includes('about')) {\n      isKilledRef.current = true\n      setTimeout(\n        () => store.dispatch({ type: 'SET_LOCATION' })\n      , 1500)\n    }\n  }, [location])\n\n  return (\n    <>\n      <Canvas \n        orthographic \n        shadows \n        camera={{ position: [0, 0, 60], zoom: 24 }}\n        gl={{ alpha: false, stencil: false, depth: false, antialias: false }}\n        resize={{ polyfill: ResizeObserver }}\n      >\n        <color attach=\"background\" args={['white']} />\n        <Resize/>\n        <Suspense fallback={null}>\n          <ambientLight intensity={0.2} />\n          <directionalLight\n            castShadow\n            position={[0, 0, 40]}\n            intensity={1}\n            shadow-mapSize-width={1024}\n            shadow-mapSize-height={1024}\n            shadow-camera-near={37}\n            shadow-camera-far={80}\n            shadow-camera-left={-35}\n            shadow-camera-right={35}\n            shadow-camera-top={20}\n            shadow-camera-bottom={-20}\n          />\n          <Pattern isKilledRef={isKilledRef} />\n          <EffectComposer multisampling={0}>\n            <SSAO samples={25} radius={5} intensity={50} luminanceInfluence={0.6} />\n            <BrightnessContrast brightness={0.2} />\n          </EffectComposer>\n        </Suspense>\n      </Canvas>\n    </>\n  )\n}","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    transition: opacity 0.6s ease-in-out, transform 0.3s ease-in;\n    opacity: 1;\n\n    .is-route-changing &, .is-mode-changing & {\n        // transform: translate(-50%, 100%);\n        opacity: 0;\n    }\n`;\n    \nexport const Container = styled.div`\n    width: 400px;\n    height: 400px;\n    font-family: CocoSharp;\n    font-weight: 100;\n\n    @media (max-width: 400px) {\n        width: 320px;\n        height: 320px;\n    }\n\n    .is-dark & {\n        color: #a1377a;\n        filter: drop-shadow(5px 5px 5px red) invert(35%);\n    }\n\n    div:nth-child(1) {\n        float: left;\n        height: 100%;\n        width: 50%;\n        shape-outside: polygon(\n            0 0,\n            100% 1%,\n            20% 22%,\n            0% 65%,\n            54% 99%,\n            0 100%\n        );\n        shape-margin: 1%;\n    }\n\n    &::before {\n        content: '';\n        float: right;\n        height: 100%;\n        width: 50%;\n        shape-outside: polygon(\n            100% 0,\n            0% 1%,\n            80% 22%,\n            100% 65%,\n            46% 99%,\n            100% 100%\n        );\n        shape-margin: 1%;\n    }\n\n    svg {\n        position: absolute;\n        top: 0;\n        left: 0;\n        pointer-events: none;\n    }\n\n    p {\n        position: relative;\n        padding-top: 30%;\n        user-select: text;\n        z-index: 10;\n        text-align: center;\n    }\n`\n\n\n\n","\nexport default function Heptagon(props) {\n\n  return (\n    <svg width=\"100%\" height=\"100%\" viewBox=\"0 0 643.54 627.41\">\n      <polygon \n        {...props}\n        points=\"321.77 2.77 65.9 126 2.71 402.87 179.77 624.91 463.77 624.91 640.84 402.87 577.64 126 321.77 2.77\"\n      />\n    </svg>\n  )\n}","import React from 'react'\nimport { useSpring, animated } from 'react-spring'\nimport { useSelector } from 'react-redux'\n\nimport {\n  Wrapper,\n  Container,\n} from './styles'\n\nimport Heptagon from '@/components/Heptagon'\n\nconst calc = (x, y) => [-(y - window.innerHeight / 2) / 20, (x - window.innerWidth / 2) / 20, 1.03]\nconst trans = (x, y, s) => `perspective(600px) rotateX(${x}deg) rotateY(${y}deg) scale(${s})`\n\nexport default function About() {\n\n  const isDark = useSelector(state => state.darkMode.isOn)\n  const [spring, setSpring] = useSpring(() => ({ xys: [0, 0, 1], config: { mass: 5, tension: 350, friction: 40 } }))\n\n  return (\n    <Wrapper>\n      <Container\n        as={animated.div}\n        onMouseMove={({ clientX: x, clientY: y }) => setSpring({ xys: calc(x, y) })}\n        onMouseLeave={() => setSpring({ xys: [0, 0, 1] })}\n        style={{ transform: spring.xys.interpolate(trans) }}\n      >\n        <div/>\n        <Heptagon \n          strokeWidth={isDark ? \"3px\" : \"1px\"}\n          stroke={isDark ? \"#a1377a\" : \"black\"}\n          fill={isDark ? \"none\" : \"rgba(255, 255, 255, 0.5)\"} \n        />\n        <p>\n          Hi, my name is Liam.\n          <br/>\n          Im a front-end / creative developer.\n          <br/><br/>\n          Please contact me at liam.lk.hui@gmail.com\n        </p>      \n      </Container>\n    </Wrapper>\n  )\n}\n","import React, { useRef, useEffect, useMemo } from 'react'\nimport { isMobile, browserName } from 'react-device-detect'\n\nconst MaskedElement = ({ children }) => {\n\n  const frontRef = useRef()\n  const backRef = useRef()\n\n  const updateMousePosition = ev => {\n    if (frontRef.current && backRef.current) { \n      const { left, top, width, height } = frontRef.current.getBoundingClientRect()\n      const x = Math.min(ev.clientX - left - 52.7, width * 1.5)\n      const y = Math.min(ev.clientY - top - 52.7, height * 1.5)\n\n      if (browserName == 'Chrome') {\n        frontRef.current.style.webkitMask = `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon transform=\"translate(${x}, ${y})\" fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff)`\n      }\n      else {\n        frontRef.current.style.webkitMaskPosition =  `${x}px ${y}px, 0 0`\n      }\n      backRef.current.style.opacity = 1\n      backRef.current.style.webkitMaskPosition =  `${x}px ${y}px`\n    }\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousemove\", updateMousePosition)\n    return () => window.removeEventListener(\"mousemove\", updateMousePosition)\n  }, [])\n\n  const Front = useMemo(() => {\n    return React.cloneElement(\n      children[0], \n      { \n        ref: frontRef, \n        className: `${children[0].props.className?? ''} inverted-mask`, \n        style: { \n          ...children[0].props.style, \n          ... browserName != 'Chrome' && { webkitMaskImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff)`, webkitMaskPosition:  `-60px -60px, 0 0` } \n        }\n      }\n    ) \n  }, [])\n\n  const Back = useMemo(() => {\n    return React.cloneElement(children[1], { ref: backRef, className: `${children[1].props.className?? ''} mask`, style: { ...children[1].props.style, opacity: 0 } })\n  }, [])\n\n  return (  \n    <>\n      {Back}\n      {Front}\n    </>\n  )\n}\n\nconst Element = (props) => {\n  if (isMobile)\n    return <>{props.children[0]}</>\n  else \n    return <MaskedElement {...props} />\n}\n\nexport default React.memo(Element)","import React, { useState, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nimport {\n  Title,\n} from './styles'\n\nimport Dark from './Dark'\nimport Light from './Light'\nimport About from '@/components/About'\nimport MaskedElement from '@/components/MaskedElement'\n\nexport default function Home() {\n\n  useEffect(() => {\n    setTimeout(() => setIsShown(true), 300)\n  }, [])\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location)\n\n  const [isShown, setIsShown] = useState(!darkMode.isOn)\n  const isHiding = !isShown || (location.isChanging && (location.target?.pathname && location.target.pathname != '/' && location.target.pathname != '/about'))\n\n  return (\n    <>\n\n      {(!darkMode.isOn || darkMode.isChanging) &&\n        <div \n          className={`canvas-wrapper home`}\n          style={{ \n            opacity: (darkMode.isOn && !darkMode.isTransitioning) ? 0 : 1,\n          }}\n        >\n          <Light/>\n        </div>\n      }\n\n      {(darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper home${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: (!darkMode.isOn && !darkMode.isTransitioning) ? 0 : 1\n          }}\n        >\n          <Dark/>\n        </div>\n      }\n\n      {location.current?.pathname == '/' &&\n        <MaskedElement>\n          <Title>\n            <h1 className='reveal-text'>Hi, Im Liam</h1>\n            <h2 className='reveal-text'>frontend / creative developer</h2>\n          </Title>\n          <Title className=\"is-back\">\n            <h1 className='reveal-text'>Hi, Im Liam</h1>\n            <h2 className='reveal-text'>frontend / creative developer</h2>\n          </Title>\n        </MaskedElement>\n      }\n\n      {location.current?.pathname == '/about' && <About/>}\n\n    </>\n  )\n}\n","import styled from 'styled-components';\n\nexport const CanvasContainer = styled.div`\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n`;\n\nexport const InfoContainer = styled.div`\n    position: absolute;\n    top: 10%;\n    left: 3%;\n    font-size: 20px;\n    min-height: 250px;\n    width: 450px;\n    max-width: 95%;\n    overflow: hidden;\n    mask-image: linear-gradient(to left, black 99%, transparent 100%);\n    --offset: 30px;\n\n    p {\n        display: inline-block;\n    }\n\n    @media (max-width: 400px) {\n        --offset: 20px;\n    }\n`;\n\nexport const InfoTopContainer = styled.div`\n    color: black;\n    overflow: visible;\n    padding: var(--offset);\n\n    .is-dark & {\n        color: var(--infoColor);\n    }\n\n    &.is-back {\n        position: absolute;\n        top: 0;\n        * {\n            transform: scale(1.15);\n        }\n        .is-dark & {\n            filter: drop-shadow(5px 5px 5px var(--infoColor)) invert(35%);\n\n            .is-work-changing &, .is-route-changing &, .is-mode-changing & {\n                opacity: 0 !important;\n            }\n        }\n    }\n`\n\nexport const InfoTitle = styled.p`\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 3em;\n    letter-spacing: 0.04em;\n    line-height: 0.8;\n`\n\nexport const InfoType = styled.p`\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 1em;\n    letter-spacing: 0.04em;\n    transition-delay: 0.2s;\n`\n\nexport const InfoContent = styled.p`\n    font-family: Breadley, serif;\n    font-size: 1em;\n    letter-spacing: 0.04em;\n    margin-top: 1em;\n    transition-delay: 0.35s;\n    white-space: pre-line;\n\n    .is-dark & {\n        filter: saturate(60%);\n    }\n`\n\nexport const InfoBottom = styled.div`\n    display: flex;\n    font-family: CocoSharp, sans-serif;\n    font-weight: 100;\n    font-style: italic;\n    font-size: 0.7em;\n    bottom: 0;\n    position: absolute;\n    width: 80%;\n    left: calc(var(--offset) - 1.5em);\n    transition: all 0.5s ease-in-out;\n\n    @media (max-width: 400px) {\n        left: calc(var(--offset) - 1.5em);\n    }\n\n    div:last-child {\n        margin-left: 3em;\n    }\n`   \n\nexport const VisitSite = styled.a`\n    position: absolute;\n    top: 7%;\n    left: var(--offset);\n    font-family: Breadley, serif;\n    font-weight: bold;\n    font-size: 0.8em;\n    display: inline-block;\n    z-index: 999;\n\n    @media (max-width: 400px) {\n        top: 4%;\n    }\n\n    .is-dark & {\n        color: var(--infoColor);\n        filter: saturate(60%);\n    }\n\n    ::after {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 0%;\n        height: 1px;\n        background-color: black;\n        transition: all 0.5s ease-in-out;\n\n        .is-dark & {\n          background-color: var(--infoColor);\n        }\n      }\n  \n      &:hover {\n        ::after {\n            width: 100%;\n        }\n      }\n`   \n\n\n\n\n\n","// https://cdn.rawgit.com/felixturner/bad-tv-shader/master/BadTVShader.js\n\nconst WorkDarkShader = {\n\tuniforms: {\n\t\ttex: { value: null },\n\t\ttex2: { value: null },\n\t\ttime: { value: 0.0 },\n\t\tdistortion: { value: 1.0 },\n\t\tdistortion2: { value: 7 },\n\t\tspeed: { value: 0.9 },\n\t\trollSpeed: { value: 0 },\n\t\tprogress : { value: 0 }\n\t},\n\n\tvertexShader: `\n\t\tvarying vec2 vUv;\n\n\t\tvoid main() {\n\t\tvUv = uv;\n\t\t\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t\t}\n\t`,\n\n\tfragmentShader: `\n\t\tuniform sampler2D tex;\n\t\tuniform sampler2D tex2;\n\t\tuniform float time;\n\t\tuniform float distortion;\n\t\tuniform float distortion2;\n\t\tuniform float speed;\n\t\tuniform float rollSpeed;\n\t\tuniform float progress;\n\t\tvarying vec2 vUv;\n\t\t\n\t\t// Start Ashima 2D Simplex Noise\n\n\t\tvec3 mod289(vec3 x) {\n\t\t  return x - floor(x * (1.0 / 289.0)) * 289.0;\n\t\t}\n\n\t\tvec2 mod289(vec2 x) {\n\t\t  return x - floor(x * (1.0 / 289.0)) * 289.0;\n\t\t}\n\n\t\tvec3 permute(vec3 x) {\n\t\t  return mod289(((x*34.0)+1.0)*x);\n\t\t}\n\n\t\tfloat snoise(vec2 v)\n\t\t  {\n\t\t  const vec4 C = vec4(0.211324865405187,  // (3.0-sqrt(3.0))/6.0\n\t\t                      0.366025403784439,  // 0.5*(sqrt(3.0)-1.0)\n\t\t                     -0.577350269189626,  // -1.0 + 2.0 * C.x\n\t\t                      0.024390243902439); // 1.0 / 41.0\n\t\t  vec2 i  = floor(v + dot(v, C.yy) );\n\t\t  vec2 x0 = v -   i + dot(i, C.xx);\n\n\t\t  vec2 i1;\n\t\t  i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n\t\t  vec4 x12 = x0.xyxy + C.xxzz;\n\t\t x12.xy -= i1;\n\n\t\t  i = mod289(i); // Avoid truncation effects in permutation\n\t\t  vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n\t\t\t\t+ i.x + vec3(0.0, i1.x, 1.0 ));\n\n\t\t  vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy), dot(x12.zw,x12.zw)), 0.0);\n\t\t  m = m*m ;\n\t\t  m = m*m ;\n\n\t\t  vec3 x = 2.0 * fract(p * C.www) - 1.0;\n\t\t  vec3 h = abs(x) - 0.5;\n\t\t  vec3 ox = floor(x + 0.5);\n\t\t  vec3 a0 = x - ox;\n\n\t\t  m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n\n\t\t  vec3 g;\n\t\t  g.x  = a0.x  * x0.x  + h.x  * x0.y;\n\t\t  g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n\t\t  return 130.0 * dot(m, g);\n\t\t}\n\n\t\t// End Ashima 2D Simplex Noise\n\n\t\tvoid main() {\n\n\t\t\tvec2 p = vUv;\n\t\t\tfloat ty = time*speed;\n\t\t\tfloat yt = p.y - ty;\n\n\t\t\t//smooth distortion\n\t\t\tfloat offset = snoise(vec2(yt*3.0,0.0))*0.2;\n\n\t\t\t// boost distortion\n\t\t\toffset = offset*distortion * offset*distortion * offset;\n\n\t\t\t//add fine grain distortion\n\t\t\toffset += snoise(vec2(yt*50.0,0.0))*distortion2*0.001;\n\n\t\t\t//combine distortion on X with roll on Y\n\t\t\tvec4 color1 = texture2D(tex, vec2(fract(p.x + offset),fract(p.y-time*rollSpeed) ));\n\t\t\tvec4 color2 = texture2D(tex2, vec2(fract(p.x + offset),fract(p.y-time*rollSpeed) ));\n\n\t\t\tfloat myProgress = progress;\n\t\t\tif (myProgress > 0.3)\n\t\t\t\tmyProgress = (myProgress - 0.3) / 0.7;\n\t\t\telse myProgress = 0.0;\n\t\t\tvec4 color = mix(color1, color2, myProgress );\n\n\t\t\tif (p.x < 0.05) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, p.x / 0.05);\n\t\t\tif (p.x > 0.95) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, (1.0 - p.x) / 0.05);\n\t\t\tif (p.y < 0.05) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, p.y / 0.05);\n\t\t\tif (p.y > 0.95) \n\t\t\t\tcolor.a *= smoothstep(0.0, 1.0, (1.0 - p.y) / 0.05);\n\n\t\t\tgl_FragColor = color;\n\n\t\t}\n\n\t`\n\n};\n\nexport default WorkDarkShader","import React, { useState, useEffect, useRef, useMemo, Suspense } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport * as THREE from \"three\"\nimport { Canvas, useFrame, useThree } from '@react-three/fiber'\nimport { Reflector, useTexture } from '@react-three/drei'\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport WorkDarkShader from '@/shaders/WorkDarkShader' \n\nimport Effects from \"@/components/Effects\"\nimport DarkModeTransition from \"@/components/DarkModeTransition\"\n\nconst DISTORTION_MIN = 1\nconst DISTORTION_MAX = 8\nconst DEFAULT_CAMERA_POS = [10, 2, 30]\n\nconst Show = ({ currentIndex }) => {\n\n  const [isChanging, setIsChanging] = useState(null)\n\n  const planeRef = useRef()\n  const { camera, mouse } = useThree()\n  const vec = new THREE.Vector3()\n  const [rEuler, rQuaternion] = useMemo(() => [new THREE.Euler(), new THREE.Quaternion()], [])\n\n  const materialRef = useRef()\n\n  useEffect(() => {\n    const image = store.getState().works.data[currentIndex].image\n    const texture = new THREE.TextureLoader().load(`/works/${image}`)\n    if (isChanging == null) {\n      materialRef.current.uniforms.tex.value = texture\n      setIsChanging(false)\n    }\n    else {\n      materialRef.current.uniforms.tex2.value = texture\n      setIsChanging(true)\n    }\n  }, [currentIndex])\n\n  const texture = useTexture(`/works/Synthwave.jpg`) \n\n  useFrame((state, delta) => {\n    camera.position.lerp(vec.set(\n      DEFAULT_CAMERA_POS[0] + mouse.x * 0.8, \n      DEFAULT_CAMERA_POS[1] + mouse.y * 0.4, \n      camera.position.z\n    ), 0.05)\n\n    rEuler.set(0, (mouse.x * Math.PI) / 6, 0)\n    planeRef.current.quaternion.slerp(rQuaternion.setFromEuler(rEuler), 0.1)\n\n    materialRef.current.uniforms.time.value += delta * 2\n\n    if (isChanging) {\n      if (materialRef.current.uniforms.progress.value >= 1) {\n        materialRef.current.uniforms.progress.value = 0\n        materialRef.current.uniforms.tex.value = materialRef.current.uniforms.tex2.value\n        setIsChanging(false)\n      }\n      else {\n        materialRef.current.uniforms.progress.value += delta * 0.4\n        materialRef.current.uniforms.distortion.value = Math.min(DISTORTION_MAX, materialRef.current.uniforms.distortion.value + delta * 7)\n      }\n    }\n    else if (materialRef.current.uniforms.distortion.value > DISTORTION_MIN) {\n      materialRef.current.uniforms.distortion.value = Math.max(DISTORTION_MIN, materialRef.current.uniforms.distortion.value - delta * 20)\n    }\n  })\n\n  return (\n    <group ref={planeRef} position={[0, 3, 0]}>\n      <mesh>\n        <planeGeometry attach=\"geometry\" args={[10, 6]} />\n        <shaderMaterial \n          ref={materialRef} \n          args={[WorkDarkShader]} \n          uniforms-tex-value={texture} \n          attach=\"material\" \n          transparent\n        />\n      </mesh>\n    </group>\n  )\n}\n\n\nconst Ground = () => {\n  const roughness = useTexture(require('@/assets/images/roughness.jpg').default)\n  return (\n    <Reflector \n      resolution={512} \n      rotation={[-Math.PI / 2, 0, 0]}\n      args={[100, 100]} \n      mirror={0.4} \n      mixBlur={4} \n      mixStrength={1} \n      position={[0, -0.8, 0]}\n      rotation={[-Math.PI / 2, 0, Math.PI / 2]} \n      blur={[400, 100]}\n    >\n      {(Material, props) => <Material color=\"#a0a0a0\" metalness={0.4} roughnessMap={roughness} {...props} />}\n    </Reflector>\n  )\n}\n\nconst MAX_RATIO = 1.78\nconst Resize = ({ setPosition }) => {\n  const { size } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const ratio = size.width / size.height\n        const x = -4 + 12 * ratio / MAX_RATIO\n        const y = Math.min(-3, -9 + 6 * ratio / MAX_RATIO)\n        const z = Math.min(5, -5 + 10 * ratio / MAX_RATIO)\n        setPosition([x, y, z])\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function WorksDark() {\n\n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const darkMode = useSelector(state => state.darkMode)\n  const [position, setPosition] = useState([8, -3, 5])\n\n  return (\n    <Canvas\n      shadows\n      gl={{ antialias: true }}\n      camera={{ position: DEFAULT_CAMERA_POS, fov: 35 }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <Resize setPosition={setPosition} />\n      <color attach=\"background\" args={['black']} />\n      <Suspense fallback={null}>\n        <group rotation={[0, Math.PI * -0.05, 0]} position={position}>\n          <Ground/>\n          <Show currentIndex={currentIndex}/>\n        </group>\n         <ambientLight intensity={0.5} />\n        <directionalLight position={[-20, 0, -10]} intensity={0.7} />\n        <Effects isGammaOn isAAOn>\n          <DarkModeTransition {...darkMode} />\n        </Effects>\n      </Suspense>\n    </Canvas>\n  )\n}\n","const WorkLightShader = {\n    uniforms: {\n      effectFactor: { value: 1.2 },\n      progress: { value: 0.0 },\n      tex: { value: undefined },\n      tex2: { value: undefined },\n      disp: { value: undefined },\n    },\n  \n    vertexShader: `\n      varying vec2 vUv;\n      void main() {\n        vUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n      }\n    `,\n  \n    fragmentShader: `\n      varying vec2 vUv;\n      uniform sampler2D tex;\n      uniform sampler2D tex2;\n      uniform sampler2D disp;\n      uniform float _rot;\n      uniform float progress;\n      uniform float effectFactor;\n\n      void main() {\n        vec2 uv = vUv;\n\n        vec4 disp = texture2D(disp, uv);\n        vec2 distortedPosition = vec2(uv.x, uv.y + progress * (disp.r * effectFactor));\n        vec2 distortedPosition2 = vec2(uv.x, uv.y - (1.0 - progress) * (disp.r * effectFactor));\n        vec4 _texture = texture2D(tex, distortedPosition);\n        vec4 _texture2 = texture2D(tex2, distortedPosition2);\n        vec4 finalTexture = mix(_texture, _texture2, progress);\n        gl_FragColor = finalTexture;\n      }\n\n    `\n}\n\nexport default WorkLightShader","import * as THREE from \"three\"\nimport { useState, useEffect, useRef, useMemo, Suspense } from \"react\"\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport { Canvas, useFrame, useThree } from \"@react-three/fiber\"\nimport { softShadows, useTexture } from \"@react-three/drei\"\nimport { ResizeObserver } from '@juggle/resize-observer'\nimport WorkLightShader from '@/shaders/WorkLightShader' \n\nimport Effects from \"@/components/Effects\"\n\nsoftShadows({\n  frustum: 3.75,\n  size: 0.002,\n  near: 9.5,\n  samples: 20,\n  rings: 11, \n})\n\nconst DEFAULT_CAMERA_POS = [10, 2, 30]\n\nconst Show = ({ currentIndex }) => {\n\n  const [direction, setDirection] = useState(null)\n\n  const planeRef = useRef()\n  const materialRef = useRef()\n\n  const { camera, mouse } = useThree()\n  const vec = new THREE.Vector3()\n  const [rEuler, rQuaternion] = useMemo(() => [new THREE.Euler(), new THREE.Quaternion()], [])\n\n  useFrame(() => {\n    camera.position.lerp(vec.set(\n      DEFAULT_CAMERA_POS[0] + mouse.x * 0.8, \n      DEFAULT_CAMERA_POS[1] + mouse.y * 0.4, \n      camera.position.z\n    ), 0.05)\n\n    rEuler.set(0, (mouse.x * Math.PI) / 6, 0)\n    planeRef.current.quaternion.slerp(rQuaternion.setFromEuler(rEuler), 0.1)\n\n    if (direction != null) {\n      materialRef.current.uniforms.progress.value += 0.05 * direction\n      if (\n        (materialRef.current.uniforms.progress.value >= 1 && direction == 1)\n        ||\n        (materialRef.current.uniforms.progress.value <= 0 && direction == -1)\n      ) {\n        materialRef.current.uniforms.progress.value = direction == 1 ? 1 : 0\n        setDirection(null)\n        store.dispatch({ type: 'BROWSE_WORK_TRANSITION_FINISH'})\n      }\n    }\n  })\n\n  useEffect(() => {\n    const image = store.getState().works.data[currentIndex].image\n    const direction = store.getState().works.direction\n    const texture = new THREE.TextureLoader().load(`/works/${image}`)\n    setDirection(direction)\n\n    if (direction == null) {\n      materialRef.current.uniforms.progress.value = 0.0\n      materialRef.current.uniforms.tex.value = texture\n    }\n    else if (direction == 1) {\n      if (materialRef.current.uniforms.progress.value == 1) {\n        materialRef.current.uniforms.tex.value = materialRef.current.uniforms.tex2.value\n        materialRef.current.uniforms.progress.value = 0\n      }\n      materialRef.current.uniforms.tex2.value = texture\n    }\n    else if (direction == -1) {\n      if (materialRef.current.uniforms.progress.value == 0) {\n        materialRef.current.uniforms.tex2.value = materialRef.current.uniforms.tex.value\n        materialRef.current.uniforms.progress.value = 1\n      }\n      materialRef.current.uniforms.tex.value = texture\n    }  \n  }, [currentIndex])\n\n  const displacement = useTexture(require('@/assets/images/displacement.jpg').default)\n\n  return (\n    <group ref={planeRef} position={[0, 3, 0]}>\n      <mesh castShadow>\n        <boxGeometry attach=\"geometry\" args={[10, 6, 0.1]} />\n        <meshStandardMaterial transparent opacity={0}/>\n      </mesh>\n      <mesh>\n        <planeBufferGeometry attach=\"geometry\" args={[10, 6]} /> \n        <shaderMaterial \n          ref={materialRef} \n          args={[WorkLightShader]} \n          uniforms-disp-value={displacement}\n          attach=\"material\" \n        />\n      </mesh>\n    </group>\n  )\n}\n\nconst Ground = () => {\n  return (\n    <mesh rotation={[-Math.PI / 2, 0, 0]} receiveShadow>\n      <planeBufferGeometry attach=\"geometry\" args={[100, 100]} />\n      <shadowMaterial attach=\"material\" transparent opacity={0.4} />\n    </mesh>\n  )\n}\n\nconst MAX_RATIO = 1.78\nconst Resize = ({ setPosition }) => {\n  const { size } = useThree()\n\n  let timeoutRef = useRef(null)\n  useEffect(() => {\n    timeoutRef.current && clearTimeout(timeoutRef.current)\n    timeoutRef.current = setTimeout(\n      () => {\n        const ratio = size.width / size.height\n        const x = -4 + 12 * ratio / MAX_RATIO\n        const y = Math.min(-3, -9 + 6 * ratio / MAX_RATIO)\n        const z = Math.min(5, -5 + 10 * ratio / MAX_RATIO)\n        setPosition([x, y, z])\n      }\n    , 300)\n  }, [size])\n\n  return null\n}\n\nexport default function WorksLight() {\n\n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const [position, setPosition] = useState([8, -3, 5])\n\n  return (\n    <Canvas\n      shadows\n      gl={{ antialias: true }}\n      camera={{ position: DEFAULT_CAMERA_POS, fov: 35 }}\n      resize={{ polyfill: ResizeObserver }}\n    >\n      <Resize setPosition={setPosition} />\n      <Suspense fallback={null}>\n        <color attach=\"background\" args={['white']} />\n        <ambientLight intensity={0.4} />\n        <pointLight position={[-10, 0, 20]} intensity={1} />\n        <directionalLight\n          castShadow\n          position={[-4, 12, 4]}\n          intensity={2}\n          shadow-mapSize-width={1024}\n          shadow-mapSize-height={1024}\n          shadow-camera-far={50}\n          shadow-camera-left={-20}\n          shadow-camera-right={20}\n          shadow-camera-top={20}\n          shadow-camera-bottom={-20}\n        />\n        <group rotation={[0, Math.PI * -0.05, 0]} position={position}>\n          <Ground/>\n          <Show currentIndex={currentIndex} />\n        </group>\n        <Effects isGammaOn isAAOn />\n      </Suspense>\n    </Canvas>\n  )\n}\n","import React, { useState, useEffect, useRef } from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\n\nimport {\n  InfoContainer,\n  InfoTopContainer,\n  InfoTitle,\n  InfoType,\n  InfoContent,\n  InfoBottom,\n  BottomRow,\n  VisitSite\n} from './styles'\n\nimport MaskedElement from '@/components/MaskedElement'\n\nimport Dark from './Dark'\nimport Light from './Light'\n\nconst Info = React.memo(() => {\n\n  let timeoutRef = useRef(null)\n\n  // set info \n  const currentIndex = useSelector(state => state.works.currentIndex)\n  const [info, setInfo] = useState(null)\n  useEffect(() => {\n    if (timeoutRef.current != null) \n      clearTimeout(timeoutRef.current)\n\n    const direction = store.getState().works.direction\n    if (direction != null) {\n      document.body.classList.add(\"is-work-changing\")\n      timeoutRef.current = setTimeout(\n        () => {\n          setInfo(store.getState().works.data[currentIndex])\n          setTimeout( () => document.body.classList.remove(\"is-work-changing\"), 50)\n        }\n      , 800)\n    }\n    else setInfo(store.getState().works.data[currentIndex])\n  }, [currentIndex])\n\n  const browseWork = (direction) => {\n    store.dispatch({ type: 'BROWSE_WORK', direction: direction })\n  }\n\n  const InfoTop = React.memo(() => {\n    return (\n      <MaskedElement>\n        <InfoTopContainer\n          style={{ '--infoColor': info.color }}\n        >\n          <InfoTitle className='reveal-text'>\n            {info?.title?? ''}\n          </InfoTitle>\n          <br/>\n          <InfoType className='reveal-text'>\n            <i>({info?.type?? ''})</i> /{info?.tags?? ''}/\n          </InfoType>\n          <br/>\n          <InfoContent className='reveal-text'>\n            {info?.about?? ''}\n          </InfoContent>\n        </InfoTopContainer>\n        \n        <InfoTopContainer \n          className='is-back'\n          style={{ '--infoColor': info.color }}\n        >\n          <InfoTitle className='reveal-text'>\n            {info?.title?? ''}\n          </InfoTitle>\n          <br/>\n          <InfoType className='reveal-text'>\n            <i>({info?.type?? ''})</i> /{info?.tags?? ''}/\n          </InfoType>\n          <br/>\n          <InfoContent className='reveal-text'>\n            {info?.about?? ''}\n          </InfoContent>\n        </InfoTopContainer>\n      </MaskedElement>\n    )\n  })\n\n  return (\n    <InfoContainer>\n\n      <VisitSite \n        target=\"_blank\" \n        href={info?.link}\n        className='reveal-text' \n        style={ info?.color && { '--infoColor': info.color }} \n      >\n        {'> VISIT SITE'}\n      </VisitSite>\n      \n      {info && <InfoTop/>}\n\n      <InfoBottom>\n        <div className='button' onClick={() => browseWork(-1)}>\n          <span>{'< prev'}</span>\n        </div>\n        <div className='button' onClick={() => browseWork(1)}>\n          <span>{'next >'}</span>\n        </div>\n      </InfoBottom>\n\n    </InfoContainer>\n  )\n})\n\nexport default function Works() {\n\n  useEffect(() => {\n    setTimeout(() => setIsShown(true), 300)\n  }, [])\n\n  const darkMode = useSelector(state => state.darkMode)\n  const location = useSelector(state => state.location)\n\n  const [isShown, setIsShown] = useState(false)\n  const isHiding = !isShown || (location.isChanging && (location.target?.pathname && location.target.pathname != '/works'))\n\n  return (\n    <>\n      { (!darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: darkMode.isOn && !darkMode.isTransitioning ? 0 : 1,\n          }}\n        >\n          <Light/>\n        </div>\n      }\n\n      { (darkMode.isOn || darkMode.isChanging) &&\n        <div \n        className={`canvas-wrapper${isHiding ? ' is-hiding' : ''}`}\n          style={{ \n            opacity: !darkMode.isOn && !darkMode.isTransitioning ? 0 : 1\n          }}\n        >\n          <Dark/>\n        </div>\n      }\n\n      <Info/>\n    </>\n  )\n}\n","import React, { useRef, useEffect } from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Cursor = () => {\n\n  const ref = useRef()\n\n  const updateMousePosition = ev => {\n    if (ref.current) \n      ref.current.style.transform = `translate(${ev.clientX - 52.7}px, ${ev.clientY - 52.7}px)`\n  }\n\n  useEffect(() => {\n    window.addEventListener(\"mousemove\", updateMousePosition)\n    return () => window.removeEventListener(\"mousemove\", updateMousePosition)\n  }, [])\n\n  const isDark = useSelector(state => state.darkMode.isOn)\n\n  return (\n    <div \n      ref={ref}\n      style={{\n        pointerEvents: 'none',\n        position: 'absolute',\n        zIndex: 999,\n        top: 0,\n        left: 0,\n        transform: `scale(0)`\n      }}\n    >\n      <svg>\n        <polygon fill=\"none\" stroke={isDark ? '#898989' : \"black\"} points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/>\n      </svg>\n    </div>\n  )\n}\n\nexport default Cursor","import styled from 'styled-components';\n\nexport const NavBarContainer = styled.nav`\n    position: absolute;\n    top: 3%;\n    right: 3%;\n    display: flex;\n    font-size: 16px;\n\n    @media (max-width: 400px) {\n        font-size: 14px;\n        right: 0;\n    }\n`\n\n\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport {\n  NavBarContainer,\n} from './styles'\n\n\nexport default function NavBar() {\n\n  const NavButton = ({ target }) => {\n\n    return (\n      <Link to={`/${target}`} className='button' >\n        <span>{target == '' ? 'home' : target}</span>\n      </Link>\n    )\n  }\n \n  return (\n    <NavBarContainer>\n      <NavButton target=''/>\n      <NavButton target='about'/>\n      <NavButton target='works'/>\n    </NavBarContainer>\n  )\n}\n","import styled from 'styled-components';\n\nexport const DarkButtonWrapper = styled.div`\n    position: absolute;\n    bottom: 4%;\n    right: 3%;\n    padding: 8px;\n\n    @media (max-width: 400px) {\n        bottom: 2%;\n    }\n\n    .is-mode-changing & {\n        pointer-events: none;\n    }\n\n    svg {\n        width: 30px;\n        height: 30px;\n        opacity: 0.2;\n        transition: opacity 0.4s ease-in-out;\n\n        .is-mode-changing & {\n            opacity: 0;\n        }\n    }\n\n    div {\n        width: 7em;\n        font-family: CocoSharp, sans-serif;\n        font-weight: 100;\n        position: absolute;\n        top: 0;\n        left: 50%;\n        transform: translate(-50%, 0%);\n        opacity: 0;\n        transition: all 0.6s ease-in-out;\n        pointer-events: none;\n        color: black;\n\n        .is-dark & {\n            color: #898989;\n        }\n    }\n\n    &:hover:not(.is-mode-changing *) {\n        svg {\n            opacity: 1;\n        }\n\n        div {\n            opacity: 1;\n            transform: translate(-50%, -80%);\n        }\n    }\n`\n\n\n","import React from 'react'\nimport store from '@/store'\nimport { useSelector } from 'react-redux'\nimport { isMobile } from 'react-device-detect'\n\nimport {\n  DarkButtonWrapper,\n} from './styles'\n\nexport default function DarkButton() {\n\n  const darkMode = useSelector(state => state.darkMode)\n\n  const onClick = () => {\n    if (!darkMode.isChanging)\n      store.dispatch({ type: 'CHANGE_DARK_MODE' })\n  }\n \n  return (\n    <DarkButtonWrapper onClick={onClick}>\n      <svg viewBox=\"0 0 24 24\">\n        <path fill={darkMode.isOn ? \"#898989\" : \"black\"} d=\"M12,18V6A6,6 0 0,1 18,12A6,6 0 0,1 12,18M20,15.31L23.31,12L20,8.69V4H15.31L12,0.69L8.69,4H4V8.69L0.69,12L4,15.31V20H8.69L12,23.31L15.31,20H20V15.31Z\" />\n      </svg>\n      {!isMobile && <div>change theme</div>}\n    </DarkButtonWrapper>\n  )\n}\n","import React, { useEffect } from 'react'\nimport { useSelector } from 'react-redux'\nimport store from '@/store'\nimport { Switch, Route, useLocation } from 'react-router-dom'\nimport { ConnectedRouter } from 'connected-react-router'\nimport { isMobile } from 'react-device-detect'\n\nimport history from './history'\n\nimport Home from '@/pages/Home'\nimport Works from '@/pages/Works'\nimport Cursor from '@/components/Cursor'\nimport NavBar from '@/components/NavBar'\nimport DarkButton from '@/components/DarkButton'\n\nconst Routes = () => {\n\n  const defaultLocation = useLocation()\n  const location = useSelector(state => state.location.current)\n  const isDark = useSelector(state => state.darkMode.isOn)\n\n  useEffect(() => {\n    store.dispatch({ type: 'INIT_LOCATION', location: defaultLocation })\n  }, [])\n\n  useEffect(() => {\n    if (defaultLocation?.pathname != location?.pathname) {\n      store.dispatch({ type: 'SET_LOCATION_REQUEST', location: defaultLocation })\n      document.body.classList.add(\"is-route-changing\")\n\n      if (! (!isDark && defaultLocation?.pathname == '/works') ) { // except home light to work\n        setTimeout(() => store.dispatch({ type: 'SET_LOCATION' }), 800)\n      }\n    }\n  }, [defaultLocation])\n\n  useEffect(() => {\n    setTimeout(() => document.body.classList.remove(\"is-route-changing\"), 400)\n  }, [location])\n\n  return (\n    <Switch location={location ?? defaultLocation}>\n      <Route exact path={[\"/\", \"/about\"]} component={Home} />\n      <Route path=\"/works\" component={Works} />\n    </Switch>\n  )\n}\n\nexport default function Router() {\n\n  return (\n    <ConnectedRouter history={history}>\n      <Routes/>\n      <NavBar/>\n      <DarkButton/>\n      {!isMobile && <Cursor/>}\n    </ConnectedRouter>\n  )\n}\n","import { createGlobalStyle } from 'styled-components'\n\nconst GlobalStyle = createGlobalStyle`\n  /* Default */\n\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    outline: 0;\n    padding: 0;\n  }\n\n  body {\n    position: fixed;\n    overflow: hidden;\n    overscroll-behavior-y: none;\n    text-rendering: optimizeLegibility !important;\n    -webkit-font-smoothing: antialiased !important;\n    cursor: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 50 50\" overflow=\"visible\" stroke=\"black\" stroke-width=\"1.5\" stroke-linecap=\"round\"><line x1=\"25\" x2=\"25\" y1=\"50\" /><line x1=\"50\" y1=\"25\" y2=\"25\" /></svg>') 7 7, auto !important;\n\n    background-color: white;\n    transition: background-color 0.5s ease-in-out;\n\n    &.is-dark {\n      background-color: black;\n      cursor: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"14\" viewBox=\"0 0 50 50\" overflow=\"visible\" stroke=\"#BBBBBB\" stroke-width=\"1.5\" stroke-linecap=\"round\"><line x1=\"25\" x2=\"25\" y1=\"50\" /><line x1=\"50\" y1=\"25\" y2=\"25\" /></svg>') 7 7, auto !important;\n    }\n  }\n  \n  a, button {\n    outline: none;\n    color: unset;\n    text-decoration: unset;\n    cursor: unset;\n  }\n\n  html, body, #root {\n    width: 100%;\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    overflow: hidden;\n  }\n\n  .button {\n    position: relative;\n    display: flex;\n    justify-content: center;\n    font-family: CocoSharp, sans-serif;\n    font-weight: 100;\n    margin: 0 0px;\n    text-decoration: none;\n    width: 7em;\n    height: 1.4em;\n    text-align: center;\n    color: black!important;\n    overflow: hidden;\n\n    .is-dark & {\n        color: #898989 !important;\n    }\n\n    .is-mode-changing & {\n        overflow: hidden;\n    }\n\n    span {\n      letter-spacing: 0.2em;\n      transition: all 0.5s ease-in-out;\n      position: relative;\n  \n      .is-route-changing &:not(nav *), .is-mode-changing &, .not-ready & {\n        transform: translateY(100%);\n      }\n  \n      ::after {\n        content: \"\";\n        position: absolute;\n        left: 0;\n        bottom: 0;\n        width: 0%;\n        height: 1px;\n        background-color: black;\n        transition: all 0.5s ease-in-out;\n\n        .is-dark & {\n          background-color: #999999;\n        }\n      }\n  \n      &:hover {\n        letter-spacing: 0.4em;\n        ::after {\n            width: 90%;\n        }\n      }\n    }\n  }\n\n  .reveal-text {\n    transition: all 0.8s ease-in-out, color 0s;\n    mask-image: linear-gradient(to right, black 0%, black 33.33%, transparent 66.66%);\n    mask-size: 300% 200%;\n    mask-position: 0% 0%;\n    \n    .is-work-changing &, .is-route-changing &, .is-mode-changing &, .not-ready & {\n      mask-position: 100% 0%;\n      transform: translateX(-20%);\n    }\n  }\n\n  .canvas-wrapper {\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    top: 0;\n    left: 0;\n\n    canvas {\n      transition: opacity 0.5s ease-in-out;\n      .not-ready &, .is-three-loading &, .is-hiding& {\n        opacity: 0;\n      }\n    }\n  }\n\n  .mask {\n    mask-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>');\n    mask-repeat: no-repeat;\n  }\n\n  .inverted-mask {\n    // mask-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\"><polygon fill=\"black\" points=\"52.7 2.77 12.61 22.08 2.71 65.47 30.45 100.27 74.96 100.27 102.7 65.47 92.8 22.08 52.7 2.77\"/></svg>'), linear-gradient(#fff,#fff);\n    mask-repeat: no-repeat, no-repeat;\n    -webkit-mask-composite: destination-out !important;\n    mask-composite: exclude !important; \n    // mask-position: -60px -60px, 0 0; \n  }\n\n  * {\n    box-sizing: border-box;\n  }\n\n`;\n\nexport default GlobalStyle\n","import React, { useEffect, useRef } from 'react'\nimport { Provider } from 'react-redux'\nimport { useSelector } from 'react-redux'\nimport { useProgress } from \"@react-three/drei\"\nimport store from './store'\n\nimport Routes from './routes'\nimport GlobalStyled from './styles/global'\n\ndocument.body.classList.add(\"not-ready\")\n\nfunction App() {\n\n  useEffect(async () => {\n    const response = await fetch('/works.json')\n    const works = await response.json()\n    store.dispatch({ type: 'INIT_WORKS', data: works })\n    document.body.classList.add(\"is-light\")\n    \n    setTimeout(\n      () => {\n        document.body.classList.remove(\"not-ready\")\n      }\n    , 500)\n  }, [])\n\n  return (\n    <Provider store={store}>\n      <GlobalStyled/>\n      <Routes/>\n      <ThreeLoader/>\n    </Provider>\n  )\n}\n\nconst ThreeLoader = () => {\n  const darkMode = useSelector(state => state.darkMode)\n  const { active } = useProgress()\n\n  // dark mode load next scene\n  let darkModeTimeoutRef = useRef(null)\n  useEffect(() => {\n    if (!darkMode.isTransitioning & darkMode.isChanging && !active) {\n      if (darkModeTimeoutRef.current != null) clearTimeout(darkModeTimeoutRef.current)\n\n      darkModeTimeoutRef.current = setTimeout(\n        () => {\n          store.dispatch({ type: 'DARK_MODE_TRANSITION_START' })\n        }\n      , 1400)\n    }\n  }, [active, darkMode.isChanging])\n  \n\n  return null\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}